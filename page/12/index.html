<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>They Call Me Mister James</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta property="og:type" content="website">
<meta property="og:title" content="They Call Me Mister James">
<meta property="og:url" content="http://jameschambers.com/page/12/index.html">
<meta property="og:site_name" content="They Call Me Mister James">
<meta property="og:description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="They Call Me Mister James">
<meta name="twitter:description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta name="twitter:creator" content="@CanadianJames">
<meta name="twitter:site" content="CanadianJames">
  
  
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="content/avatar.png">
  
  
 <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>


  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-2868185-6', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  

  
  <script src="//load.sumome.com/" data-sumo-site-id="34f480920bcf5ea13ec1605be65d32e86be89fb7177416fb68c2d2f1939aaa04" async="async"></script>
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo" style="background-image: url(/content/logo_round.png)"></i><span class="site-title">They Call Me Mister James</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/about/bootstrapping-mvc.html">Boostrapping MVC</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">Testimonials</a>
        
          <a class="main-nav-link" href="/about/genfu.html">GenFu</a>
        
        <a class="main-nav-link main-nav-link-highlight" href="https://hireme.jameschambers.com" target="_blank">Hire Me</a>
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/content/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://jameschambers.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/about/bootstrapping-mvc.html">Boostrapping MVC</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/about">Testimonials</a></td>
        
          <td><a class="main-nav-link" href="/about/genfu.html">GenFu</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://jameschambers.com"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <h2 id="name">James Chambers</h2>
      <h3 id="title">Husband, Father, Mentor, Humanitarian &amp; Software Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Canada</span>
      <a id="follow" href="https://twitter.com/canadianjames">FOLLOW</a>
    </div>

    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="/CanadianJames" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="http://github.com/MisterJames" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
          <td><a href="https://ca.linkedin.com/in/canadianjames" target="_blank" title="linkedin"><i class="fa fa-linkedin"></i></a></td>
          
          <td><a href="https://www.youtube.com/user/CodingMisterJames/" target="_blank" title="youtube"><i class="fa fa-youtube"></i></a></td>
          
        </tr>
      </table>
    </div>
    

    <div class="base-info profile-block">
        <a href="http://aspnetmonsters.com" target="_blank"><img src="/content/monster-james.png"></a>      
    </div>

    <div class="base-info profile-block">
        <a href="https://leanpub.com/bootstrappingmvc" onclick="_gaq.push(['_trackEvent', 'outbound-widget', 'https://leanpub.com/bootstrappingmvc', '\n\n']);">
            <img src="https://s3.amazonaws.com/titlepages.leanpub.com/bootstrappingmvc/medium?1425560219" scale="0">
        </a>
    </div>
        
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-day-12" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-12/">Day 12: Implement Search Using Inline Forms and AJAX</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-12/">
      <time datetime="2014-06-13T03:18:27.000Z" itemprop="datePublished">2014-06-12</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>It had to happen; at some point we were going to need to let our users enter some data! Well, that time has come, so let’s start by adding a handy-dandy search form to our Person page.</p>
<p>Forms will need a few cues on how to properly render themselves and take part in Booststrap’s style party of awesome. Let’s get a search form going and start filtering our results.</p>
<h2 id="Adding_the_Search_Bar"><a href="#Adding_the_Search_Bar" class="headerlink" title="Adding the Search Bar"></a>Adding the Search Bar</h2><p>There are actually a few styles of forms that you can get going. A standard styling gives you label-over-control type layout, horizontal forms give you label-beside-control layout and inline styling gives you controls without labels side-by-each continuously in the row. That’s the one we’ll go with to generate our simple search form:</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image20.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb6.png" alt="image" title="image"></a></p>
<p>Create a partial view under the Views\Person folder. You can make it an empty one, and call it _PersonSearchForm.cshtml.&nbsp; Paste in the following code:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">hr</span><span class="kwrd">/&gt;</span><br><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”container”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”pull-right”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">class</span><span class="kwrd">=”form-inline”</span> <span class="attr">role</span><span class="kwrd">=”form”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”form-group”</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">class</span><span class="kwrd">=”sr-only”</span> <span class="attr">for</span><span class="kwrd">=”search-text”</span><span class="kwrd">&gt;</span>Email address<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”text”</span> <span class="attr">class</span><span class="kwrd">=”form-control”</span> <span class="attr">id</span><span class="kwrd">=”search-text”</span> <span class="attr">placeholder</span><span class="kwrd">=”Enter Search Text”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success”</span> <span class="attr">id</span><span class="kwrd">=”search-btn”</span><span class="kwrd">&gt;</span>Search<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>We have a few things going on here:</p>
<ul>
<li>The HR tag is just a style thing and not required. It makes the search form look more “balanced” vertically on the form.</li><li>There is a DIV that acts as a container, keeping our content separate from the rest of the page. It is a wrapper for a “pull-right” styled DIV that moves our search bar over to the right hand side of the page.</li><li>The form is given a class of “form-inline”. This is the first important part of making our controls and labels show up correctly.</li><li>Inside that FORM element we have a DIV with a class of “form-group”. This lets Bootstrap know (or rather, the browser through Bootstrap’s CSS) that these controls are related in some way. Specifically, we have a label for an input.</li><li>Because this is an “inline” form, we’re using the “sr-only” class on the label to eat the display and keep the visuals tidy. “SR” stands for “Screen Reader”; this is an accessibility tag.</li>
</ul>
<p>When the form data comes calling, we’re going to need someone to answer the phone on the controller side.</p>
<h2 id="The_Controller_u2019s_Search_Method"><a href="#The_Controller_u2019s_Search_Method" class="headerlink" title="The Controller’s Search Method"></a>The Controller’s Search Method</h2><p>In your PersonController class, add the following public method:</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> ActionResult SearchPeople(<span class="kwrd">string</span> searchText)<br>{<br>    var term = searchText.ToLower();<br>    var result = _people<br>        .Where(p =&gt;<br>            p.FirstName.ToLower().Contains(term) ||<br>            p.LastName.ToLower().Contains(term)<br>        );</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; PartialView(&lt;span class=&quot;str&quot;&gt;&quot;_SearchPeople&quot;&lt;/span&gt;, result);
</code></pre><p>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>This accepts a string parameter and finds any matches where FirstName or LastName match what the user entered, then it returns via a call to PartialView to generate the result. We’re using a partial because we don’t want to have to reload the entire page each time the user clicks the search button.</p>
<blockquote>
<p><strong>A quick note</strong>: the astute reader will note that that this simplified method of search won’t pass the <a href="http://www.moserware.com/2008/02/does-your-code-pass-turkey-test.html" target="_blank" rel="external">Turkey Test</a>. If you work with different cultures, this is a great side-read, and you’ll need to approach the problem in a different way.</p>
</blockquote>
<p>Later in the series we’ll cover best practices around accessing and filtering data, but this approach will suffice for now, using the local static collection of data that we built <a href="http://jameschambers.com/2014/06/day-11-realistic-test-data-for-our-view/">yesterday</a>.</p>
<p>When we call PartialView the MVC Framework doesn’t attempt to resolve a layout, so we just get the meat that lives in the cshtml file itself and as processed by the view engine. Rendered via the controller, we have to pass in our data as a parameter. If you were rendering a partial via a View (with an HtmlHelper) the partial could ‘inherit’ the parent page’s model and use that to render your content. The partial we need should be located in Views\Person\ and called _SearchPeople.cshtml and the code looks like the following:</p>
<p><pre class="csharpcode">@model IEnumerable<span class="kwrd">&lt;</span><span class="html">SimpleSite.Models.Person</span><span class="kwrd">&gt;</span></pre></p>
<p>@Html.DisplayForModel(Model)</p>
<p>@if (!Model.Any())<br>{<br>    <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>Sorry!<span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>Looks like there’s no results for that person.<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Partial in place, controller set up to search…off to the core view.</p>
<h2 id="Updating_the_View"><a href="#Updating_the_View" class="headerlink" title="Updating the View"></a>Updating the View</h2><p>Back in Views\Person\Index.cshtml there isn’t a lot we have to do to get our form to display. Update the code so it reads as follows:</p>
<p><pre class="csharpcode">@model IEnumerable<span class="kwrd">&lt;</span><span class="html">SimpleSite.Models.Person</span><span class="kwrd">&gt;</span></pre></p>
<p>@{ Html.RenderPartial(“_PersonSearchForm”); }</p>
<p><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=”people-data”</span><span class="kwrd">&gt;</span><br>    @Html.DisplayForModel(Model)<br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>I have updated the view from yesterday by wrapping the data with a DIV that acts as a container. We’ll use that later when we AJAX up the page. Press CTRL+F5 to see the updated view in action.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image21.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb8.png" alt="image" title="image"></a></p>
<p>This handles the display aspect, but we need some script in place to handle the button click and make the AJAX call, finally updating the page with the search results. Add a script section to the bottom of the page as follows:</p>
<p><pre class="csharpcode">@section scripts<br>{<br>    <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">type</span><span class="kwrd">=”text/javascript”</span><span class="kwrd">&gt;</span><br>        $(<span class="kwrd">function</span> () {<br>            <span class="rem">// it’s lonely here…</span><br>        });<br>    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span><br>}<br></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<blockquote>
<p><strong>Today’s Bonus Content</strong>: Sections are defined in the layout page that is used by your view. You can find them in Views\Shared_Layout.cshtml. These sections can be required or optional per your needs. The default template defines only the scripts section, but you may often wish to include something in the page header or footer. Oooo! Sounds like another blog post!</p>
</blockquote>
<p>Now the script doesn’t do anything quite yet, except give us a place to land. What you see above is called a “self-executing anonymous method”, which is a good term to know if you want to sound smart around your boss. Basically, jQuery will make sure any code in this block is executed in a cross-browser friendly way <em>after</em> the page is finished loading. </p>
<p>Replace that lonely comment with the following code:</p>
<p><pre class="csharpcode">$(<span class="str">“#search-btn”</span>).click(<span class="kwrd">function</span> () {<br>    <span class="kwrd">var</span> searchTerm = $(<span class="str">“#search-text”</span>).val();<br>    $.get(<span class="str">“SearchPeople”</span>, { searchText: searchTerm })<br>        .success(<span class="kwrd">function</span>(data) {<br>        $(<span class="str">“#people-data”</span>).html(data);<br>    });<br>});</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>If you’re not familiar with JavaScript or the patterns that jQuery uses, here’s little breakdown of what is happening:</p>
<ul>
<li>A click event handler is setup for the element in the DOM that has an ID of “search-btn”.</li><li>The event handler is an anonymous method that invokes the jQuery get() method, passing in the action that we’re targeting and the data that we’re trying to pass in.</li><li>The data we’re passing in is read from the form and assigned to the searchText key</li><li>When you pass in parameters from calls like this, you need to make sure spelling and case are identical to avoid rapid hair loss. And null values.</li><li>The get() method follows the “promise” pattern, and you get to register a callback when the search is completed. Here, we use the success callback.</li><li>Our anonymous callback is invoked when the AJAX completes successfully and it updates the data container (“people-data”) with the HTML that is returned from our controller.</li>
</ul>
<p>Try typing in some search terms from your Person\Index page.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image22.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb9.png" alt="image" title="image"></a></p>
<p>Bazinga!</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Our search form looks fine but wouldn’t be ideal for data entry. Tomorrow we’ll look at the other two variants of forms and wire up a view (and our controller) to allow users to create new people.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-12/" data-id="cik1jd40i00lwpcyy6fo886x3" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-12/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-11-realistic-test-data-for-our-view" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-11-realistic-test-data-for-our-view/">Day 11: Realistic Test Data for Our View</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-11-realistic-test-data-for-our-view/">
      <time datetime="2014-06-11T15:04:00.000Z" itemprop="datePublished">2014-06-11</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>If a controller deals with a certain type of data – say, entities of the Person type – the index will typically contain a collection of data of that type, or perhaps some other related interface (such as search or filter capabilities, or partial views of related data). Let’s add a PersonController and get a feel for what that looks like.</p>
<h2 id="Creating_the_Person_Controller"><a href="#Creating_the_Person_Controller" class="headerlink" title="Creating the Person Controller"></a>Creating the Person Controller</h2><p>Back on <a href="http://jameschambers.com/2014/06/day-3-adding-a-controller-and-view/">Day 3</a> we added a SimpleController to our project. Use the same approach to create a new, empty controller now called PersonController.&nbsp; The Index method is the only one in the class, but it’s going to need some data.</p>
<h2 id="Generating_Realistic_Test_Data"><a href="#Generating_Realistic_Test_Data" class="headerlink" title="Generating Realistic Test Data"></a>Generating Realistic Test Data</h2><p>Now, we have a couple of options to get data. We can hand-bomb 25 (or 5 or 10 or 100) entries into some kind of text file. We can new up dozens of objects with copy &amp; paste and have 60 of the exact same person. Or, we can use a test data generator while we flush out our application and get realistic test data with minimum effort.&nbsp; Let’s try that!</p>
<p>Go to your Package Manager Console. If you don’t see that window, typically in the bottom of Visual Studio in one of the tabs. If you still don’t see it, try opening it from View –&gt; Other Windows –&gt; Package Manager Console.</p>
<p>Now, let’s install a package that will generate our data for us, called AngelaSmith. Type the following command in the Package Manager Console:</p>
<pre class="csharpcode">Install-Package AngelaSmith -Version 1.0.1</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

You should see confirmation that the package is installed.

## Configuring AngelaSmith

We’ll need a place to store the data that is generated, so at the class level, add a static field.
<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">static</span> ICollection&lt;Person&gt; _people;</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

We’re making it static so that we don’t have to recreate the data on each page load, just when the app starts up.&nbsp; Now add a static controller to configure the data generator.
<pre class="csharpcode"><span class="kwrd">static</span> PersonController()
{
    _people = Angie.Configure&lt;Person&gt;()
        .Fill(p =&gt; p.BirthDate)
        .AsPastDate()
        .Fill(p =&gt; p.LikesMusic)
        .WithRandom(<span class="kwrd">new</span> List&lt;<span class="kwrd">bool</span>&gt;(){<span class="kwrd">true</span>, <span class="kwrd">true</span>, <span class="kwrd">true</span>, <span class="kwrd">false</span>, <span class="kwrd">false</span>})
        .Fill(p =&gt; p.Skills, () =&gt; <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;() { <span class="str">"Math"</span>, <span class="str">"Science"</span>, <span class="str">"History"</span> })
        .MakeList&lt;Person&gt;(20);
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

It might seem like a lot is going on, but it’s actually quite straightforward. First is a call to the Configure method to enter configuration mode.
<pre class="csharpcode">_people = Angie.Configure&lt;Person&gt;()</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Then we have three Fill statements that demonstrate a few of the ways that we can generate data. For example, you can get a date from the past, fill a property with a random value (60% of the time LikesMusic will be true), or, here, use a lambda to set up an anonymous function to populate the value.
<pre class="csharpcode">.Fill(p =&gt; p.Skills, () =&gt; <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;() { <span class="str">"Math"</span>, <span class="str">"Science"</span>, <span class="str">"History"</span> })</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Finally, we call the MakeList method to get the list of 20 entities. By default, it will generate 25 but you can specify however many you like.
<pre class="csharpcode">.MakeList&lt;Person&gt;(20);</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

## Adding the Index View

We’ll need to pass the view some data, when it’s ready, so let’s now update our Index method so that it does that.
<pre class="csharpcode"><span class="kwrd">public</span> ActionResult Index()
{
    <span class="kwrd">return</span> View(_people);
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

You’re going to like this part. Add an empty View to the project by right-clicking on the Index method of the Person Controller. Then add the following code:
<pre class="csharpcode">@model IEnumerable<span class="kwrd">&lt;</span><span class="html">SimpleSite.Models.Person</span><span class="kwrd">&gt;</span>

@Html.DisplayForModel(Model)</pre>

<p>Yeup! That’s it! Run your site to see your list of peeps!</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image19.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb5.png" alt="image" title="image"></a> </p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Now that we’ve got some data to work with, let’s start exploring the parts of Bootstrap that can be easily used to add some zing to our site. Tomorrow, we’ll create a form that can be used to search our people.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-11-realistic-test-data-for-our-view/" data-id="cik1jd40m00m2pcyypridmkht" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-11-realistic-test-data-for-our-view/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-10-htmlhelper-extension-methods" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-10-htmlhelper-extension-methods/">Day 10: HtmlHelper Extension Methods</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-10-htmlhelper-extension-methods/">
      <time datetime="2014-06-10T15:13:00.000Z" itemprop="datePublished">2014-06-10</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>As we extracted our Person template we stubbed in a placeholder for a person’s avatar. Rather than creating our own system for uploading, resizing and storing the images, we’ll use a commonly used service on the internet called Gravatar to display one that many users might already have.</p>
<h2 id="A_Gravatar_Extension_Method"><a href="#A_Gravatar_Extension_Method" class="headerlink" title="A Gravatar Extension Method"></a>A Gravatar Extension Method</h2><p>The format for Gravatar images is as follows:</p>
<blockquote>
<p><a href="http://www.gravatar.com/avatar/MD5HASH?options" target="_blank" rel="external">http://www.gravatar.com/avatar/MD5HASH?options</a> </p>
</blockquote>
<p>The MD5 hash is computed based on their email address, and there are a few options worth noting. Below are the querystring parameters we’ll be using to generate our image.</p>
<ul>
<li><strong>Default Image</strong>: the image or type of image to use or generate if there isn’t a Gravatar for the specified email address.  </li><li><strong>Size</strong>: the size of the image to be returned, always a square.  </li><li><strong>Rating</strong>: users self-specify their rating and can use different avatars for different audiences. </li>
</ul>
<p>We’ll represent those options in an class that we’ll use as a parameter.&nbsp; Create a Helpers folder, then create a class called GravatarOptions in it.</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> GravatarOptions
{
    <span class="kwrd">public</span> <span class="kwrd">string</span> DefaultImageType { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">string</span> RatingLevel { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">int</span> Size { get; set; }

    <span class="kwrd">public</span> <span class="kwrd">class</span> DefaultImage
    {
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Default = <span class="str">""</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Http404 = <span class="str">"404"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> MysteryMan = <span class="str">"mm"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Identicon = <span class="str">"identicon"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> MonsterId = <span class="str">"monsterid"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Wavatar = <span class="str">"wavatar"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Retro = <span class="str">"retro"</span>;
    }

    <span class="kwrd">public</span> <span class="kwrd">class</span> Rating
    {
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> G = <span class="str">"g"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> PG = <span class="str">"pg"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> R = <span class="str">"r"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> X = <span class="str">"x"</span>;
    }

    <span class="kwrd">internal</span> <span class="kwrd">static</span> GravatarOptions GetDefaults()
    {
        <span class="kwrd">return</span> <span class="kwrd">new</span> GravatarOptions
        {
            DefaultImageType = GravatarOptions.DefaultImage.Retro,
            Size = 150,
            RatingLevel = GravatarOptions.Rating.G
        };
    }
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

And finally, add a class called GravatarHelper, then add the following code:
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">class</span> GravatarHelper
{
    <span class="kwrd">public</span> <span class="kwrd">static</span> HtmlString GravatarImage(<span class="kwrd">this</span> HtmlHelper htmlHelper, <span class="kwrd">string</span> emailAddress, GravatarOptions options = <span class="kwrd">null</span>)
    {
        <span class="kwrd">if</span> (options == <span class="kwrd">null</span>)
            options = GravatarOptions.GetDefaults();

        var imgTag = <span class="kwrd">new</span> TagBuilder(<span class="str">"img"</span>);

        emailAddress = <span class="kwrd">string</span>.IsNullOrEmpty(emailAddress) ? <span class="kwrd">string</span>.Empty : emailAddress.Trim().ToLower();

        imgTag.Attributes.Add(<span class="str">"src"</span>,
            <span class="kwrd">string</span>.Format(<span class="str">"http://www.gravatar.com/avatar/{0}?s={1}{2}{3}"</span>,
                GetMd5Hash(emailAddress),
                options.Size,
                <span class="str">"&amp;d="</span> + options.DefaultImageType,
                <span class="str">"&amp;r="</span> + options.RatingLevel
                )
            );

        <span class="kwrd">return</span> <span class="kwrd">new</span> HtmlString(imgTag.ToString(TagRenderMode.SelfClosing));
    }

    <span class="rem">// Source: http://msdn.microsoft.com/en-us/library/system.security.cryptography.md5.aspx</span>
    <span class="kwrd">private</span> <span class="kwrd">static</span> <span class="kwrd">string</span> GetMd5Hash(<span class="kwrd">string</span> input)
    {
        <span class="kwrd">byte</span>[] data = MD5.Create().ComputeHash(Encoding.UTF8.GetBytes(input));
        var sBuilder = <span class="kwrd">new</span> StringBuilder();
        <span class="kwrd">for</span> (<span class="kwrd">int</span> i = 0; i &lt; data.Length; i++)
        {
            sBuilder.Append(data[i].ToString(<span class="str">"x2"</span>));
        }
        <span class="kwrd">return</span> sBuilder.ToString();
    }
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Extension methods accept the type you are extending as the first parameter and operate on the instance of the object, though they are defined as a static. This may help understand why you must pass the first parameter as the type you want to extend with the _this_ modifier.&nbsp; You can then optionally any additional parameters that you will need to work with. For us, we’re just accepting the email address and a GravatarOptions instance.

In our helper, we create a tag builder for images, then build the URL based on the options the user has provided. If they haven’t provided the parameter, we simply load a set of defaults from our options class.

_**Note**: This is an overly-simplified version of [Andrew Freemantle’s](https://github.com/AndrewFreemantle) work on his [Gravatar-HtmlHelper](https://github.com/AndrewFreemantle/Gravatar-HtmlHelper) project on GitHub. Please visit his project for a more complete implementation._

## Using the Gravatar in our Person Template

Our HTML helper will work like any other HTML helper, but we need to let the MVC Framework know where to find it. To do so, we’ll have to go and add the namespace to our Web.Config in our Views folder (located at Views\Web.Config). We could also add a using statement to each page where we want to use our helper, but adding it to the web config file makes it globally available throughout our views. Add the following to the Razor namespaces section in that file:
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">add</span> <span class="attr">namespace</span><span class="kwrd">="SimpleSite.Helpers"</span><span class="kwrd">/&gt;</span></pre>

<p>We’ll need an email address, so add the following property in Person.cs.</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">string</span> EmailAddress { get; set; }</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Next, jump back into your SimpleController class and update the instantiation of the person object so that they have a value in there:</p>
<p><pre class="csharpcode">var person = <span class="kwrd">new</span> Person<br>{<br>    FirstName = <span class="str">“Billy Jo”</span>,<br>    LastName = <span class="str">“McGuffery”</span>,<br>    BirthDate = <span class="kwrd">new</span> DateTime(1990, 6,1),<br>    LikesMusic = <span class="kwrd">true</span>,<br>    EmailAddress = <span class="str">“Bill@jo.com”</span>,<br>    Skills = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;() { <span class="str">“Math”</span>, <span class="str">“Science”</span>, <span class="str">“History”</span> }<br>};</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Now, update your Person.cshtml template by replacing the image tag with the following:</p>
<p><pre class="csharpcode">@Html.GravatarImage(Model.EmailAddress)</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Then, pop into your browser to see the fruits of your effort!</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image18.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb3.png" alt="image" title="image"></a></p>
<p>The gravatar image will be updated for any email address that you put in. You can try playing with the different defaults, your own email address or other options. </p>
<p><em><strong>Another note:</strong> I wouldn’t actually advocate creating a full implementation of an HtmlHelper method for Gravatars. The point of this exercise was to walk through a simple implementation, but there are much more complete helpers available on NuGet, ready to be deployed to your app. If you’d like to work on one of them, they are pretty much all open source, so feel free to contribute!</em></p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Great, now we have a basic extension method to make outputting a Gravatar much more simply, but we’re going to need to address our Index view. It’s typically a list of entities, with a link to a details view, not just a single item. Tomorrow, we’ll tackle getting that list set up and move the single view version to it’s own action and view.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-10-htmlhelper-extension-methods/" data-id="cik1jd40r00m8pcyylr1qtn43" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-10-htmlhelper-extension-methods/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-9-templates-for-complex-types" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-9-templates-for-complex-types/">Day 9: Templates for Complex Types</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-9-templates-for-complex-types/">
      <time datetime="2014-06-09T15:55:00.000Z" itemprop="datePublished">2014-06-09</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>Sites like Facebook and Twitter or any site with a “feed” often present their data in a stream of “cards” or “blocks” that are repeatable and consistent, regardless of where you see the snippet of data. Let’s take the UI we created for the Person, augment it a little bit and then make it reusable wherever we might want it displayed.</p>
<h2 id="Extracting_the_Person_Template"><a href="#Extracting_the_Person_Template" class="headerlink" title="Extracting the Person Template"></a>Extracting the Person Template</h2><p>We’re going to build from the idea of using the DisplayTemplates in our Views\Shared folder, and add another file in there called Person.cshtml. Just right-click on the Views\Shared\DisplayTemplates folder and click Add –&gt; View. Name the view Person, use the empty template and create it as a partial.</p>
<p>Now paste the following code into the file:</p>
<pre class="csharpcode">

<p>@model SimpleSite.Models.Person</p>
<p>&nbsp;</p>
<p><span class="kwrd">&lt;</span><span class="html">hr</span> <span class="kwrd">/</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”row”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”col-md-2”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">img</span> <span class="attr">src</span><span class="kwrd">=”<a href="http://placehold.it/150x150" target="_blank" rel="external">http://placehold.it/150x150</a>“</span> <span class="kwrd">/&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”col-md-8”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>@Model.FirstName @Model.LastName<span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>@Model.FirstName was born on @Model.BirthDate.ToString(“D”).<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>Likes Music: @Html.DisplayFor(model =<span class="kwrd">&gt;</span> model.LikesMusic)<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>        @{<br>            ViewBag.ListDescription = “Skills:”;<br>            Html.RenderPartial(“StringCollection”, Model.Skills);<br>        }<br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br></p></pre><p></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Most of this you should recognize as fairly close to the code we were using in our Index view for the simple controller. Above, I’ve added some columns and a placeholder image so that we can later give users an avatar. But I’m otherwise continuing to use the same elements we were building off of before, such as the <a href="http://jameschambers.com/2014/06/day-7-semi-automatic-bootstrap-display-templates/">DisplayFor</a> and <a href="http://jameschambers.com/2014/06/day-6-reusing-design-elements-on-multiple-pages/">RenderPartial</a> bits we’ve been working on. </p>
<h2 id="Updating_the_Index_View"><a href="#Updating_the_Index_View" class="headerlink" title="Updating the Index View"></a>Updating the Index View</h2><p>The end result is that our Index view can be _much _simpler than it was. Here is what you need for the whole view source of Index.cshtml:</p>
<p><pre class="csharpcode">@{<br>    ViewBag.Title = “Index”;<br>    var likesMusic = Model.LikesMusic ? “active” : null;<br>    var notAMusicFan = !Model.LikesMusic ? “active” : null;<br>}</pre></p>
<p><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”page-header”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">h1</span><span class="kwrd">&gt;</span>Welcome to the Person Page <span class="kwrd">&lt;</span><span class="html">small</span><span class="kwrd">&gt;</span>Read all about @Model.FirstName<span class="kwrd">&lt;/</span><span class="html">small</span><span class="kwrd">&gt;&lt;/</span><span class="html">h1</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></p>
<p>@Html.DisplayForModel(Model)</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>The DisplayForModel tries to find a display template that matches the type of model that is passed in, and sure enough, naming our partial view above “Person” and placing it in the Views\Shared\DisplayTemplates folder was all we needed to do to wire that up. It’s another example of “convention over configuration” at work in the MVC Framework.</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>I’ve used only one set of layout classes as styles for my person template. Later in the month we’ll explore how to make this even more reusable by introducing classes that allow the content to be rendered on different devices and screen sizes.</p>
<p>The placeholder image is okay, but we’d likely prefer to use an image related to the user. Tomorrow we’ll look at a way to implement an extension method that allows us to drop in a Gravatar image for any user.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-9-templates-for-complex-types/" data-id="cik1jd3wc00h9pcyyjncuviib" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-9-templates-for-complex-types/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-8-semi-automatic-bootstrap-editor-templates" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-8-semi-automatic-bootstrap-editor-templates/">Day 8: Semi-Automatic Bootstrap – Editor Templates</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-8-semi-automatic-bootstrap-editor-templates/">
      <time datetime="2014-06-08T15:47:00.000Z" itemprop="datePublished">2014-06-08</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>Now that we have a nice way to consistently display our data, what about editing it? A label is fine to indicate what the saved value is, but it doesn’t really solve the issue of input.</p>
<h2 id="Introducing_Editor_Templates"><a href="#Introducing_Editor_Templates" class="headerlink" title="Introducing Editor Templates"></a>Introducing Editor Templates</h2><p>Much in the same way that a shared view can act as the de facto template for rendering data (<a href="http://jameschambers.com/2014/06/day-7-semi-automatic-bootstrap-display-templates/">as we saw yesterday</a>), you can override the default editor output by the framework. Create a new view in Views\Shared\EditorTemplates called Boolean.cshtml and put the following code in it:</p>
<p><pre class="csharpcode">@model <span class="kwrd">bool</span>?</pre></p>
<p>@{<br>    <span class="rem">// make use of nullable class attribute values</span><br>    var yesSelected = Model.HasValue &amp;&amp; Model.Value ? <span class="str">“active”</span> : <span class="kwrd">null</span>;<br>    var noSelected = (Model.HasValue &amp;&amp; !Model.Value)<br>        || (!Model.HasValue &amp;&amp; ViewData.ModelMetadata.IsNullableValueType)<br>        ? <span class="str">“active”</span><br>        : <span class="kwrd">null</span>;<br>    var noSelection = !Model.HasValue ? <span class="str">“active”</span> : <span class="kwrd">null</span>;</p>
<pre><code>&lt;span class=&quot;rem&quot;&gt;// get the name of the ID - this is to support multiple fields&lt;/span&gt;
var htmlField = ViewData.TemplateInfo.HtmlFieldPrefix;
</code></pre><p>}</p>
<p>@Html.HiddenFor(model =&gt; model)</p>
<p>&lt;div <span class="kwrd">class</span>=<span class="str">“btn-group”</span> data-toggle=<span class="str">“buttons”</span>&gt;<br>    &lt;label <span class="kwrd">class</span>=<span class="str">“btn btn-info @yesSelected”</span>&gt;<br>        &lt;input type=<span class="str">“radio”</span> <span class="kwrd">class</span>=<span class="str">“bool-@htmlField”</span> onchange=<span class="str">“javascript:$(‘#@htmlField’).val(true);”</span> /&gt; Yes<br>    &lt;/label&gt;<br>    &lt;label <span class="kwrd">class</span>=<span class="str">“btn btn-info @noSelected”</span>&gt;<br>        &lt;input type=<span class="str">“radio”</span> <span class="kwrd">class</span>=<span class="str">“bool-@htmlField”</span> onchange=<span class="str">“javascript:$(‘#@htmlField’).val(false);”</span> /&gt; No<br>    &lt;/label&gt;</p>
<pre><code>@&lt;span class=&quot;kwrd&quot;&gt;if&lt;/span&gt; (ViewData.ModelMetadata.IsNullableValueType)
{
    &amp;lt;label &lt;span class=&quot;kwrd&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;str&quot;&gt;&quot;btn btn-info @noSelection&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;input type=&lt;span class=&quot;str&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;str&quot;&gt;&quot;bool-@htmlField&quot;&lt;/span&gt; onclick=&lt;span class=&quot;str&quot;&gt;&quot;javascript:$(&apos;#@htmlField&apos;).val(&apos;&apos;);&quot;&lt;/span&gt; /&amp;gt;Do Not Set
    &amp;lt;/label&amp;gt;

}
</code></pre><p>&lt;/div&gt;</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>There are two important pieces to note in the above code, namely the inspection of TemplateInfo and ModelMetadata in the ViewData instance presented to our view, and the hidden backing field that is kept in sync via JavaScript. ViewData is a ViewDataDictionary that contains, as those properties suggest, metadata about the type of model being used, information about the template, and other view-specific data.</p>
<p>To see this new template in action we’ll have to get a Create view set up and an action on our controller. Head back to the SimpleController class and add the following code:</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> ActionResult Create()<br>{<br>    var person = <span class="kwrd">new</span> Person();<br>    <span class="kwrd">return</span> View(person);<br>}</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Now, right-click on the name of the method, and select “Add View…”, then set it up to use the Create template for the Person class.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image16.png" alt="image" title="image"></p>
<p>Visual Studio will throw you into the editor for your new view, and you can press CTRL+F5 to see your new default control for Boolean values, or navigate to <a><a href="http://localhost:_port_/Simple/Create" target="_blank" rel="external">http://localhost:_port_/Simple/Create</a></a> to see the page. </p>
<p>The scaffolded view contains simple calls to HTML helpers and doesn’t know anything about the instance of the Person that will be created or the fact that you’ve created a new template to render Boolean values. You’ll only see the following:</p>
<p><pre class="csharpcode">@Html.EditorFor(model =&gt; model.LikesMusic)</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>As well, the templates are rendered on the fly by the view engine (just like all views) so you don’t need to recompile as you make updates. Feel free to experiment with the template code and just refresh in your browser after you save.</p>
<p>Note that our Person class doesn’t have a nullable Boolean value, but it if did, it would render like so because of our evaluation of the ModelMetadata in the template above:</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image17.png" alt="image" title="image"></p>
<h2 id="Controlling_the_Use_of_Custom_Templates"><a href="#Controlling_the_Use_of_Custom_Templates" class="headerlink" title="Controlling the Use of Custom Templates"></a>Controlling the Use of Custom Templates</h2><p>Now these new controls – button groups for input and labels for display – work great, but you may not wish to use them for all Boolean properties. In both the DisplayTemplates and EditorTemplates folders, rename the Boolean template to BooleanButtonLabel.cshtml. Then, return to your Person class and decorate the LikesMusic property as follows:</p>
<p><pre class="csharpcode">[UIHint(<span class="str">“BooleanButtonLabel”</span>)]<br><span class="kwrd">public</span> <span class="kwrd">bool</span> LikesMusic { get; set; }</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>There may be scenarios where you wish to use several alternate templates to display or edit data. This attribute gives the MVC Framework directions to use a template of our choosing, rather than having to use the same template for all properties.</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>You can now render simple properties with whichever template you wish, but what about more complex types? Tomorrow we’ll look at using a custom template at a class level.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-8-semi-automatic-bootstrap-editor-templates/" data-id="cik1jd3wh00hgpcyynwmx3j9d" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-8-semi-automatic-bootstrap-editor-templates/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-7-semi-automatic-bootstrap-display-templates" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-7-semi-automatic-bootstrap-display-templates/">Day 7: Semi-Automatic Bootstrap – Display Templates</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-7-semi-automatic-bootstrap-display-templates/">
      <time datetime="2014-06-07T15:40:00.000Z" itemprop="datePublished">2014-06-07</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>On <a href="http://jameschambers.com/2014/06/day-6-reusing-design-elements-on-multiple-pages/">Day 6</a> we looked at the idea of using a partial view to make it easier to render certain types of data more easily. We can go even further, and allow the scaffolder and HTML helpers to render what we’re looking for without the need for the additional calls to render partials.</p>
<p>If you provide the MVC Framework with a template to render a type and give the right kind of hints to your class properties you’ll be duly rewarded with ease of effort in bringing a rich UI to the client. For now, we’ll start with the display end of things.</p>
<h2 id="Bootstrap_Styling_for_Checkboxes"><a href="#Bootstrap_Styling_for_Checkboxes" class="headerlink" title="Bootstrap Styling for Checkboxes"></a>Bootstrap Styling for Checkboxes</h2><p>We can really use any type that we want, but I’m going to start with Boolean properties. While they seem at first to be straightforward, they also provide a nullable case that we will need to deal with and render appropriately, much like any other type, yet they’re simple enough that we can work through an starter example.</p>
<p>What we’re doing here is creating a Display Template. You can think of it as a partial view in a way, but you usually do a bit more to inspect the properties and interact with data from the view engine in order to properly augment the rendering. We’ll see more of this tomorrow.</p>
<p>Enough chatter…now create a new folder called and located at Views\Shared\DisplayTemplates and create a file in there called Boolean.cshtml, then paste in the following code:</p>
<p><pre class="csharpcode">@model <span class="kwrd">bool</span>?</pre></p>
<p>@<span class="kwrd">if</span> (Model.HasValue)<br>{<br>    <span class="kwrd">if</span> (Model.Value)<br>    { &lt;span <span class="kwrd">class</span>=<span class="str">“label label-success”</span>&gt;Yes&lt;/span&gt; }<br>    <span class="kwrd">else</span><br>    { &lt;span <span class="kwrd">class</span>=<span class="str">“label label-warning”</span>&gt;No&lt;/span&gt; }<br>}<br><span class="kwrd">else</span><br>{ &lt;span <span class="kwrd">class</span>=<span class="str">“label label-info”</span>&gt;Not Set&lt;/span&gt; }</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>As the view that is responsible for rendering Boolean values, we must first set the model type of the view. I’ve used a nullable bool as it’s more durable and works with either the basic bool or the nullable version.</p>
<p>The rest of the code is fairly straightforward, just determine if there’s a value or not, then set up the label based on the value or lack thereof.</p>
<h2 id="Using_the_Display_Template"><a href="#Using_the_Display_Template" class="headerlink" title="Using the Display Template"></a>Using the Display Template</h2><p>Because we named it “Boolean.cshtml”, the MVC Framework will use our template in favor of the built-in template for Booleans, which you’ll recall from <a href="http://jameschambers.com/2014/06/day-4-making-a-page-worth-a-visit/">Day 4</a> was simply a checkbox. We saw something like this:</p>
<p>&nbsp;<img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image14.png" alt="image" title="image"></p>
<p>But with the new template in place, we’ll see this:</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image15.png" alt="image" title="image"></p>
<p>You can modify your Index.cshtml at this point to see this in action by adding the following line of code:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>Likes Music: @Html.DisplayFor(model =<span class="kwrd">&gt;</span> model.LikesMusic)<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>And that’s it, a call to DisplayFor makes the magic happen. From now on, all Boolean values will be rendered as yes/no/not set labels throughout your site. </p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Of course, the display is interesting enough, but what about editing? What if you don’t want all checkboxes to suffer the same disappearing fate? Tomorrow we’ll look at getting the editor in place and to give the MVC Framework more direction on when to use it.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-7-semi-automatic-bootstrap-display-templates/" data-id="cik1jd3wn00hmpcyy9lhsa1sg" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-7-semi-automatic-bootstrap-display-templates/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/11/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/13/">Next &raquo;</a>
      </nav>
    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recent</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/leaving-your-work-at-work-when-you-work-from-home/" class="title">Leaving Your Work at Work (When You Work From Home)</a></p>
              <p class="item-date"><time datetime="2016-01-30T13:46:56.000Z" itemprop="datePublished">2016-01-30</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/Strongly-Typed-Configuration-in-ASP-NET-Core-MVC/" class="title">Strongly-Typed Configuration in ASP.NET Core MVC</a></p>
              <p class="item-date"><time datetime="2016-01-23T16:29:12.000Z" itemprop="datePublished">2016-01-23</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/json-config-in-aspnetcoremvc/" class="title">JSON Configuration in ASP.NET Core MVC</a></p>
              <p class="item-date"><time datetime="2016-01-22T03:36:09.000Z" itemprop="datePublished">2016-01-21</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/Configuration-in-ASP-NET-Core-MVC/" class="title">Configuration in ASP.NET Core MVC</a></p>
              <p class="item-date"><time datetime="2016-01-21T02:27:23.000Z" itemprop="datePublished">2016-01-20</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/2106-01-17-Everything-You-Need-To-Know-About-Band-2-Battery-Life/" class="title">Everything You Need To Know About Microsoft Band 2 Battery Life</a></p>
              <p class="item-date"><time datetime="2016-01-18T02:44:01.000Z" itemprop="datePublished">2016-01-17</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Buy me a coffee?</h3>
    <div class="widget">
        <a href="https://www.paypal.me/jameschambers/3.5usd" target="_blank"><img src="/content/coffee.png"></a>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/30DaysMvcBootstrap/" style="font-size: 17.86px;">30DaysMvcBootstrap</a> <a href="/tags/8DaysOfTableStorage/" style="font-size: 11.43px;">8DaysOfTableStorage</a> <a href="/tags/ASP-NET/" style="font-size: 15px;">ASP.NET</a> <a href="/tags/ASP-NET-5/" style="font-size: 10.71px;">ASP.NET 5</a> <a href="/tags/ASP-NET-Core/" style="font-size: 11.43px;">ASP.NET Core</a> <a href="/tags/ActionFilters/" style="font-size: 10px;">ActionFilters</a> <a href="/tags/Android/" style="font-size: 10.71px;">Android</a> <a href="/tags/AngelaSmith/" style="font-size: 10px;">AngelaSmith</a> <a href="/tags/Asp-Net-MVC/" style="font-size: 20px;">Asp.Net MVC</a> <a href="/tags/Authentication/" style="font-size: 10px;">Authentication</a> <a href="/tags/Azure/" style="font-size: 17.14px;">Azure</a> <a href="/tags/Azure-Web-Apps/" style="font-size: 10px;">Azure Web Apps</a> <a href="/tags/Azure-Websites/" style="font-size: 13.57px;">Azure Websites</a> <a href="/tags/BUILD/" style="font-size: 10px;">BUILD</a> <a href="/tags/BitBucket/" style="font-size: 10px;">BitBucket</a> <a href="/tags/Bootstrap/" style="font-size: 15.71px;">Bootstrap</a> <a href="/tags/CTT-NUG/" style="font-size: 10px;">CTT .NUG</a> <a href="/tags/Calgary/" style="font-size: 10px;">Calgary</a> <a href="/tags/Cisco-VPN/" style="font-size: 10px;">Cisco VPN</a> <a href="/tags/ClearMeasure/" style="font-size: 10.71px;">ClearMeasure</a> <a href="/tags/CodeProject/" style="font-size: 11.43px;">CodeProject</a> <a href="/tags/Conferences/" style="font-size: 10.71px;">Conferences</a> <a href="/tags/CouchDb/" style="font-size: 10px;">CouchDb</a> <a href="/tags/DNX/" style="font-size: 10px;">DNX</a> <a href="/tags/Dojo/" style="font-size: 10px;">Dojo</a> <a href="/tags/Email/" style="font-size: 10px;">Email</a> <a href="/tags/Entity-Framework/" style="font-size: 13.57px;">Entity Framework</a> <a href="/tags/Extension-Methods/" style="font-size: 10px;">Extension Methods</a> <a href="/tags/FontAwesome/" style="font-size: 10.71px;">FontAwesome</a> <a href="/tags/GenFu/" style="font-size: 10px;">GenFu</a> <a href="/tags/GetManifestResourceStream/" style="font-size: 10px;">GetManifestResourceStream</a> <a href="/tags/Git/" style="font-size: 11.43px;">Git</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/HackAThon/" style="font-size: 10px;">HackAThon</a> <a href="/tags/HtmlHelper/" style="font-size: 10px;">HtmlHelper</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/JSON/" style="font-size: 10.71px;">JSON</a> <a href="/tags/Keynote/" style="font-size: 10px;">Keynote</a> <a href="/tags/Life-Hack/" style="font-size: 10px;">Life Hack</a> <a href="/tags/Life-Hacking/" style="font-size: 10.71px;">Life Hacking</a> <a href="/tags/Life-Hacks/" style="font-size: 12.86px;">Life Hacks</a> <a href="/tags/Linq/" style="font-size: 10px;">Linq</a> <a href="/tags/MIX11/" style="font-size: 10px;">MIX11</a> <a href="/tags/MVA/" style="font-size: 10.71px;">MVA</a> <a href="/tags/MVC/" style="font-size: 19.29px;">MVC</a> <a href="/tags/MVC5/" style="font-size: 18.57px;">MVC5</a> <a href="/tags/MVC6/" style="font-size: 13.57px;">MVC6</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Make-Code-Not-War/" style="font-size: 10px;">Make Code Not War</a> <a href="/tags/MeasureUp/" style="font-size: 10px;">MeasureUp</a> <a href="/tags/Metro/" style="font-size: 10px;">Metro</a> <a href="/tags/Microsoft/" style="font-size: 10px;">Microsoft</a> <a href="/tags/Microsoft-Band/" style="font-size: 12.14px;">Microsoft Band</a> <a href="/tags/Mobile/" style="font-size: 10px;">Mobile</a> <a href="/tags/Mobile-Services/" style="font-size: 10px;">Mobile Services</a> <a href="/tags/Motivate/" style="font-size: 10px;">Motivate</a> <a href="/tags/MvcScaffolding/" style="font-size: 11.43px;">MvcScaffolding</a> <a href="/tags/Not-Coding-At-All/" style="font-size: 10px;">Not Coding At All</a> <a href="/tags/NuGet/" style="font-size: 15px;">NuGet</a> <a href="/tags/OData/" style="font-size: 10px;">OData</a> <a href="/tags/PayPal/" style="font-size: 10px;">PayPal</a> <a href="/tags/PostSharp/" style="font-size: 10px;">PostSharp</a> <a href="/tags/Practice/" style="font-size: 10.71px;">Practice</a> <a href="/tags/Practice-of-Awesome/" style="font-size: 10px;">Practice of Awesome</a> <a href="/tags/PrairieDevCon/" style="font-size: 16.43px;">PrairieDevCon</a> <a href="/tags/Queues/" style="font-size: 10px;">Queues</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/Radio/" style="font-size: 10px;">Radio</a> <a href="/tags/Razor/" style="font-size: 10.71px;">Razor</a> <a href="/tags/Real-Life/" style="font-size: 10px;">Real Life</a> <a href="/tags/Regina/" style="font-size: 10.71px;">Regina</a> <a href="/tags/Remote-Work/" style="font-size: 11.43px;">Remote Work</a> <a href="/tags/Resolve/" style="font-size: 10px;">Resolve</a> <a href="/tags/Rock-Paper-Scissors/" style="font-size: 10px;">Rock Paper Scissors</a> <a href="/tags/Routing/" style="font-size: 10px;">Routing</a> <a href="/tags/Ruby-on-Rails/" style="font-size: 10px;">Ruby on Rails</a> <a href="/tags/SDEC/" style="font-size: 10px;">SDEC</a> <a href="/tags/SOAP/" style="font-size: 10px;">SOAP</a> <a href="/tags/SQL-Server/" style="font-size: 10px;">SQL Server</a> <a href="/tags/ServiceBus/" style="font-size: 10px;">ServiceBus</a> <a href="/tags/SignalR/" style="font-size: 11.43px;">SignalR</a> <a href="/tags/Speaking/" style="font-size: 11.43px;">Speaking</a> <a href="/tags/TFS/" style="font-size: 10px;">TFS</a> <a href="/tags/Table-Storage/" style="font-size: 10.71px;">Table Storage</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 10px;">Unit Testing</a> <a href="/tags/Visual-Studio/" style="font-size: 10.71px;">Visual Studio</a> <a href="/tags/Visual-Studio-11/" style="font-size: 11.43px;">Visual Studio 11</a> <a href="/tags/Visual-Studio-2010/" style="font-size: 16.43px;">Visual Studio 2010</a> <a href="/tags/Visual-Studio-2012/" style="font-size: 12.86px;">Visual Studio 2012</a> <a href="/tags/Visual-Studio-2013/" style="font-size: 10.71px;">Visual Studio 2013</a> <a href="/tags/Visual-Studio-2015/" style="font-size: 14.29px;">Visual Studio 2015</a> <a href="/tags/WCF/" style="font-size: 10.71px;">WCF</a> <a href="/tags/Web-API/" style="font-size: 10.71px;">Web API</a> <a href="/tags/Web-Development/" style="font-size: 10px;">Web Development</a> <a href="/tags/Web-Services/" style="font-size: 10.71px;">Web Services</a> <a href="/tags/Windows-8/" style="font-size: 11.43px;">Windows 8</a> <a href="/tags/Windows-Azure/" style="font-size: 10px;">Windows Azure</a> <a href="/tags/Windows-Phone/" style="font-size: 14.29px;">Windows Phone</a> <a href="/tags/Windws-Live-Writer/" style="font-size: 10px;">Windws Live Writer</a> <a href="/tags/Winnipeg/" style="font-size: 10.71px;">Winnipeg</a> <a href="/tags/c/" style="font-size: 11.43px;">c#</a> <a href="/tags/compiling/" style="font-size: 10px;">compiling</a> <a href="/tags/jQuery/" style="font-size: 12.14px;">jQuery</a> <a href="/tags/jQuery-UI/" style="font-size: 10.71px;">jQuery UI</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/open-source/" style="font-size: 10.71px;">open source</a> <a href="/tags/reflection/" style="font-size: 10px;">reflection</a> <a href="/tags/seed-data/" style="font-size: 10px;">seed data</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/">2015</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/">2014</a><span class="archive-list-count">42</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/">2013</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/">2012</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/">2011</a><span class="archive-list-count">36</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 1999 - 2016 James Chambers<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script>
  var disqus_shortname = 'jameschambers';
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>