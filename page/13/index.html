<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>They Call Me Mister James</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta property="og:type" content="website">
<meta property="og:title" content="They Call Me Mister James">
<meta property="og:url" content="http://jameschambers.com/page/13/index.html">
<meta property="og:site_name" content="They Call Me Mister James">
<meta property="og:description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="They Call Me Mister James">
<meta name="twitter:description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta name="twitter:creator" content="@CanadianJames">
<meta name="twitter:site" content="CanadianJames">
  
  
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="content/avatar.png">
  
  
 <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>


  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-2868185-6', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  

  
  <script src="//load.sumome.com/" data-sumo-site-id="34f480920bcf5ea13ec1605be65d32e86be89fb7177416fb68c2d2f1939aaa04" async="async"></script>
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo" style="background-image: url(/content/logo_round.png)"></i><span class="site-title">They Call Me Mister James</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/about/bootstrapping-mvc.html">Boostrapping MVC</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">Testimonials</a>
        
          <a class="main-nav-link" href="/about/genfu.html">GenFu</a>
        
        <a class="main-nav-link main-nav-link-highlight" href="https://hireme.jameschambers.com" target="_blank">Hire Me</a>
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/content/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://jameschambers.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/about/bootstrapping-mvc.html">Boostrapping MVC</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/about">Testimonials</a></td>
        
          <td><a class="main-nav-link" href="/about/genfu.html">GenFu</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://jameschambers.com"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <h2 id="name">James Chambers</h2>
      <h3 id="title">Husband, Father, Mentor, Humanitarian &amp; Software Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Canada</span>
      <a id="follow" href="https://twitter.com/canadianjames">FOLLOW</a>
    </div>

    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="/CanadianJames" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="http://github.com/MisterJames" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
          <td><a href="https://ca.linkedin.com/in/canadianjames" target="_blank" title="linkedin"><i class="fa fa-linkedin"></i></a></td>
          
          <td><a href="https://www.youtube.com/user/CodingMisterJames/" target="_blank" title="youtube"><i class="fa fa-youtube"></i></a></td>
          
        </tr>
      </table>
    </div>
    

    <div class="base-info profile-block">
        <a href="http://aspnetmonsters.com" target="_blank"><img src="/content/monster-james.png"></a>      
    </div>

    <div class="base-info profile-block">
        <a href="https://leanpub.com/bootstrappingmvc" onclick="_gaq.push(['_trackEvent', 'outbound-widget', 'https://leanpub.com/bootstrappingmvc', '\n\n']);">
            <img src="https://s3.amazonaws.com/titlepages.leanpub.com/bootstrappingmvc/medium?1425560219" scale="0">
        </a>
    </div>
        
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-day-15-some-bootstrap-basics" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-15-some-bootstrap-basics/">Day 15: Some Bootstrap Basics</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-15-some-bootstrap-basics/">
      <time datetime="2014-06-16T05:57:00.000Z" itemprop="datePublished">2014-06-16</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>Through the series so far we’ve started to see what Bootstrap can do, but how does it get there? Why does the default page look like it does? And what are some of these classes we’ve been using?</p>
<h2 id="The_Shell_That_Makes_it_Tick"><a href="#The_Shell_That_Makes_it_Tick" class="headerlink" title="The Shell That Makes it Tick"></a>The Shell That Makes it Tick</h2><p>Bootstrap is a responsive grid style and JavaScript library that makes some assumptions about the kind of project you’ll be creating:</p>
<ul>
<li>You care about mobile users  </li><li>You want a familiar UX for your users  </li><li>You are targeting clients capable of HTML5, CSS and JavaScript  </li><li>You like the look and feel of Bootstrap, or you: a) know how to change it, or, b) you have a theme you want to use. </li>
</ul>
<p>People, there are no more excuses for using tables for layout! Unless, of course, you have a table of data you want to display.&nbsp; You can use the CSS of Bootstrap on it’s own and make use of the built in styles to control the layout of your pages, accommodating for different screen sizes and device resolutions.</p>
<p>JavaScript isn’t a requirement for your site, but anything beyond the basic CSS will need to support it. In some cases, functionality of simple controls is augmented or simply made possible by virtue of the JavaScript library. What does the JS offer?</p>
<ul>
<li>It provides a programmatic API for components and elements of the page  </li><li>It establishes custom events for actions unique to the Bootstrap controls  </li><li>It gives the ability to automatically wire up components on your page – almost akin to “programming” it on the page, but using Data Attributes in your markup.  </li><li>It provides a no-conflict mode to operate with other client-side frameworks  </li><li>It allows components with heavier processing costs to be delay-initiated, making your page look and feel faster </li>
</ul>
<h2 id="One_Grid_to_u2026Line_Up_Them_All"><a href="#One_Grid_to_u2026Line_Up_Them_All" class="headerlink" title="One Grid to…Line Up Them All"></a>One Grid to…Line Up Them All</h2><p>Imagine dividing your page up into 12 columns, and using a row to hold those columns, and putting all your rows into a container. Then, you choose if you want to assume a series of “responsive” widths, or a fluid width that is calculated on the fly to control the size of your columns.&nbsp; In a nutshell, that is what a grid layout system is doing for you. </p>
<p>Check out these samples from the template. Your home page looks like this in a desktop browser on a larger screen resolution:<br><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image29.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb18.png" alt="image" title="image"></a></p>
<p>But when you scale it down, you get the following without having to completely design an alternate site:</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image30.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb19.png" alt="image" title="image"></a></p>
<p>The grid capabilities give you many options for how you want to tackle your layout regardless of the user’s viewport.&nbsp; <strong>This is significant because you don’t have to write your site twice</strong>. There was previous emphasis on making a “mobile friendly version” of your site, but the Bootstrap opinion on design is that you should be mobile first. If you’re choosing to build a new site on some greenfield project it is worth spending some time on how the grid breaks down.</p>
<p>The best way to do this is to visit the <a href="http://getbootstrap.com/examples/grid/" target="_blank" rel="external">Grid Template</a> sample site to see how the different arrangements of classes work together.</p>
<h2 id="The_MVC_Framework_u2019s_Home_Page"><a href="#The_MVC_Framework_u2019s_Home_Page" class="headerlink" title="The MVC Framework’s Home Page"></a>The MVC Framework’s Home Page</h2><p>Consider those images above from your project’s home page, and have a look at what’s going on. There is a menu at the top of the page that automatically collapses into a mobile-friendly arrangement when the screen size gets smaller.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image31.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb20.png" alt="image" title="image"></a></p>
<p>The code for this navbar control is in the _Layout.cshtml file.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”navbar navbar-inverse navbar-fixed-top”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”container”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”navbar-header”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”navbar-toggle”</span> <span class="attr">data-toggle</span><span class="kwrd">=”collapse”</span> <span class="attr">data-target</span><span class="kwrd">=”.navbar-collapse”</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”icon-bar”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”icon-bar”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”icon-bar”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>            @Html.ActionLink(“Application name”, “Index”, “Home”, new { area = “” }, new { @class = “navbar-brand” })<br>        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”navbar-collapse collapse”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">class</span><span class="kwrd">=”nav navbar-nav”</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>@Html.ActionLink(“Home”, “Index”, “Home”)<span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>@Html.ActionLink(“About”, “About”, “Home”)<span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>@Html.ActionLink(“Contact”, “Contact”, “Home”)<span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span><br>            @Html.Partial(“_LoginPartial”)<br>        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>There are two DIVs inside the inner container, one the header, the second a collapsable section that is displayed on the same row. On smaller screens, that section disappears in favor of the button in the header. The wiring for all this is done with data attributes. </p>
<p>The links in the header are either rendered in that row, or in a mobile-friendly stack of links when the navbar is collapsed.&nbsp; </p>
<p>See those three spans in there? Those use a class called icon-bar from the Bootstrap library that looks like this:</p>
<p><pre class="csharpcode">.navbar-toggle .icon-bar {<br>  display: block;<br>  width: 22px;<br>  height: 2px;<br>  border-radius: 1px;<br>}</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>While I’m assuming they could have used an image or something from Glyphicon here, this is a very light-weight way to render the now familiar “hey I got more stuff for you to look at” iconography that many mobile users are accustomed to.</p>
<p>The rest of the content on the page is rendered in Index.cshtml inside the Views\Home folder.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image32.png" alt="image" title="image"></p>
<p>There are two parts in play here, a jumbotron component and a row with three equally-sized columns.&nbsp; The jumbotron is the grey area with the larger title. It assumes the full width of the container it resides in, and gives a few extra style classes to help make content stand out.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”jumbotron”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">h1</span><span class="kwrd">&gt;</span>ASP.NET<span class="kwrd">&lt;/</span><span class="html">h1</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">p</span> <span class="attr">class</span><span class="kwrd">=”lead”</span><span class="kwrd">&gt;</span>ASP.NET is a free…<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”<a href="http://asp.net" target="_blank" rel="external">http://asp.net</a>“</span> <span class="attr">class</span><span class="kwrd">=”btn btn-primary btn-lg”</span><span class="kwrd">&gt;</span>Learn more <span class="attr">&amp;raquo;</span><span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>The three bits of content are basically assembles as follows:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”row”</span><span class="kwrd">&gt;</span><br>    <span class="rem">&lt;!– Three of these –&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”col-md-4”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">h2</span><span class="kwrd">&gt;</span>Getting started<span class="kwrd">&lt;/</span><span class="html">h2</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>Content…<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">class</span><span class="kwrd">=”btn btn-default”</span> <span class="attr">href</span><span class="kwrd">=”http://…”</span><span class="kwrd">&gt;</span>Learn more <span class="attr">&amp;raquo;</span><span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>There are three DIV elements that have the col-md-4 (read: content targeting a minimum of a medium screen resolution and spanning 4 columns). These are all contained in the row DIV, and if they add up to 12 or less (3x4 = 12) then they are almost certain to end up on the same row.</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Be sure to punch around with the grid a little and check out the Views\Home\Index.cshtml source in full (above are just the snippets) to get a good grip on how the layout works. Or, try switching the container class on the _Layout to use container-fluid instead. Lots to explore!</p>
<p>We still have a few basic bits and tips to take care of before we return to the mash up of MVC and Bootstrap, so tune in tomorrow where we close those off!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-15-some-bootstrap-basics/" data-id="civldfwvr00l6pcyyy66nd9am" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-15-some-bootstrap-basics/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-14-bootstrap-alerts-and-mvc-framework-tempdata" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-14-bootstrap-alerts-and-mvc-framework-tempdata/">Day 14: Bootstrap Alerts and MVC Framework TempData</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-14-bootstrap-alerts-and-mvc-framework-tempdata/">
      <time datetime="2014-06-15T08:30:49.000Z" itemprop="datePublished">2014-06-15</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<hr>
<p>   </p><p><em>This post is dedicated to the memory of my Grandmother, Marianne Chambers, who passed away June 14, 2014 with her two of her daughters at her side. She was a great woman who survived the passing of her husband and the early loss of a son, my father.</em></p>
<hr>
<p>   </p><p>Something may go wrong, or it may go right. It may go smooth or go bump in the night. And, at various times, your application will want to let the user know about it. <strong>Bootstrap</strong> has a component called an Alert that works quite nicely for these types of information.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image27.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb16.png" alt="image" title="image"></a></p>
<p>Likewise, the <strong>MVC Framework</strong> has a great place where we can store these messages without having to worry about postbacks, short term storage or the like. Pairing these two features up makes a great way to relay information to the user.</p>
<h2 id="A_Few_More_Helpers"><a href="#A_Few_More_Helpers" class="headerlink" title="A Few More Helpers"></a>A Few More Helpers</h2><p>Add another class file to your project in the Helpers namespace, and drop in the following code:</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Alert
{
    <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> TempDataKey = <span class="str">"TempDataAlerts"</span>;

    <span class="kwrd">public</span> <span class="kwrd">string</span> AlertStyle { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">string</span> Message { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">bool</span> Dismissable { get; set; }
}

<span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">class</span> AlertStyles
{
    <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Success = <span class="str">"success"</span>;
    <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Information = <span class="str">"info"</span>;
    <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Warning = <span class="str">"warning"</span>;
    <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Danger = <span class="str">"danger"</span>;
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

These classes give us some constants to help render our Bootstrap alerts, as well as a class to help store and pass data around.

## Base Controller – _Almost_ A Best Practice

One of the first things you will likely do on any MVC project is to start with a new base controller that you will inherit from instead of the built-in Controller that ships with the framework. 

While that may seem like a weird suggestion coming from a guy who likes the YAGNI principle, I’ve never worked on a project that didn’t have a base controller, end up with one, or at least couldn’t have used one.&nbsp; There will be valid cases where you won’t need one, and likely several cases where multiple base controllers will be required, so it’s debatable as to whether or not it should be a rule.

This part is a best practice, however: don’t let your base classes get “fat”, loaded with code you’re not using 90% of the time.

At any rate, if you choose to use them or not, for this project ours will look like this:
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> BaseController : Controller
{
    <span class="kwrd">public</span> <span class="kwrd">void</span> Success(<span class="kwrd">string</span> message, <span class="kwrd">bool</span> dismissable = <span class="kwrd">false</span>)
    {
        AddAlert(AlertStyles.Success, message, dismissable);
    }

    <span class="kwrd">public</span> <span class="kwrd">void</span> Information(<span class="kwrd">string</span> message, <span class="kwrd">bool</span> dismissable = <span class="kwrd">false</span>)
    {
        AddAlert(AlertStyles.Information, message, dismissable);
    }

    <span class="kwrd">public</span> <span class="kwrd">void</span> Warning(<span class="kwrd">string</span> message, <span class="kwrd">bool</span> dismissable = <span class="kwrd">false</span>)
    {
        AddAlert(AlertStyles.Warning, message, dismissable);
    }

    <span class="kwrd">public</span> <span class="kwrd">void</span> Danger(<span class="kwrd">string</span> message, <span class="kwrd">bool</span> dismissable = <span class="kwrd">false</span>)
    {
        AddAlert(AlertStyles.Danger, message, dismissable);
    }

    <span class="kwrd">private</span> <span class="kwrd">void</span> AddAlert(<span class="kwrd">string</span> alertStyle, <span class="kwrd">string</span> message, <span class="kwrd">bool</span> dismissable)
    {
        var alerts = TempData.ContainsKey(Alert.TempDataKey)
            ? (List&lt;Alert&gt;)TempData[Alert.TempDataKey]
            : <span class="kwrd">new</span> List&lt;Alert&gt;();

        alerts.Add(<span class="kwrd">new</span> Alert
        {
            AlertStyle = alertStyle,
            Message = message,
            Dismissable = dismissable
        });

        TempData[Alert.TempDataKey] = alerts;
    }

}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

These methods are going to help us record and render alerts from our controller and into our views.&nbsp; There are four pretty similar calls going on there that keep the helper strings away from our controllers.&nbsp; The AddAlert method takes care of fetching or creating a list of alerts.

We’re using TempData here for storage which is good for the next _completed_ request from the server to the same client. That could be the current request, should we complete execution and render a view, or that could be the immediately _next_ request, should we decide to redirect the user.

Using a list of Alerts gives us the ability to add more than one type of alert, or several instances of alerts to the page at once. If you consider things like ActionFilters (those are coming) that have an opportunity to interact with the execution pipeline, you won’t ever know exactly what parts of your application might be trying to signal something to the user.

**Note**: I got the idea for this approach through working with [Eric Hexter](https://twitter.com/ehexter) on the [Twitter.Bootstrap.Mvc](https://github.com/erichexter/twitter.bootstrap.mvc) project. In that version, Eric’s implementation allowed for one message per alert type, but it was definitely what got the ball rolling for me on this one.

## Updates to PersonController

Start by changing the declaration to inherit from our spanky new base class.
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> PersonController : BaseController</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Then, update your create method to use the new methods we’ve added.
<pre class="csharpcode">[HttpPost]
<span class="kwrd">public</span> ActionResult Create(Person person)
{
    <span class="kwrd">if</span> (ModelState.IsValid)
    {
        _people.Add(person);
        Success(<span class="kwrd">string</span>.Format(<span class="str">"&lt;b&gt;{0}&lt;/b&gt; was successfully added to the database."</span>, person.FirstName), <span class="kwrd">true</span>);
        <span class="kwrd">return</span> RedirectToAction(<span class="str">"Index"</span>);
    }
    Danger(<span class="str">"Looks like something went wrong. Please check your form."</span>);
    <span class="kwrd">return</span> View(person);
}
</pre>

<p>We’ve made it super easy to store various alerts which will hang around in memory until we complete a request. In the case of the happy path above, the Success message hangs around on the server until the client requests the redirected content.&nbsp; For the Danger message on the sad path, the view is immediately returned and the TempData is cleared.</p>
<h2 id="Showing_our_Alerts"><a href="#Showing_our_Alerts" class="headerlink" title="Showing our Alerts"></a>Showing our Alerts</h2><p>While we could just put all the info we need into the layout, we can keep our code cleaner by using a partial view to render the alerts. Under Views\Shared, add a new partial view called _Alerts.cshtml and put in the following code:</p>
<p><pre class="csharpcode">@{<br>    var alerts = TempData.ContainsKey(Alert.TempDataKey)<br>                ? (List&lt;Alert&gt;)TempData[Alert.TempDataKey]<br>                : <span class="kwrd">new</span> List&lt;Alert&gt;();</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;if&lt;/span&gt; (alerts.Any())
{
    &amp;lt;hr/&amp;gt;
}

&lt;span class=&quot;kwrd&quot;&gt;foreach&lt;/span&gt; (var alert &lt;span class=&quot;kwrd&quot;&gt;in&lt;/span&gt; alerts)
{
    var dismissableClass = alert.Dismissable ? &lt;span class=&quot;str&quot;&gt;&quot;alert-dismissable&quot;&lt;/span&gt; : &lt;span class=&quot;kwrd&quot;&gt;null&lt;/span&gt;;
    &amp;lt;div &lt;span class=&quot;kwrd&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;str&quot;&gt;&quot;alert alert-@alert.AlertStyle @dismissableClass&quot;&lt;/span&gt;&amp;gt;
        @&lt;span class=&quot;kwrd&quot;&gt;if&lt;/span&gt; (alert.Dismissable)
        {
            &amp;lt;button type=&lt;span class=&quot;str&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;str&quot;&gt;&quot;close&quot;&lt;/span&gt; data-dismiss=&lt;span class=&quot;str&quot;&gt;&quot;alert&quot;&lt;/span&gt; aria-hidden=&lt;span class=&quot;str&quot;&gt;&quot;true&quot;&lt;/span&gt;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;
        }
        @Html.Raw(alert.Message)
    &amp;lt;/div&amp;gt;
}
</code></pre><p>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>We grab the alerts out of the TempData (if they exist) and then loop through each one, rendering them in the order they were added. If they had the dismissable flag set to true, we also render the appropriate Bootstrap elements and styles to make the alert go away on command.</p>
<p>Now update your _Layout.cshtml to include the call to render the partial view. Your container with the call to RenderBody() should now look like this:</p>
<p><pre class="csharpcode">&lt;div <span class="kwrd">class</span>=<span class="str">“container body-content”</span>&gt;<br>    @{ Html.RenderPartial(<span class="str">“_Alerts”</span>); }<br>    @RenderBody()<br>    &lt;hr /&gt;<br>    &lt;footer&gt;<br>        &lt;p&gt;&amp;copy; @DateTime.Now.Year - My ASP.NET Application&lt;/p&gt;<br>    &lt;/footer&gt;<br>&lt;/div&gt;</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>And now, after you add a new person to the list, you’ll see a nicely formatted, dismissable alert at the top of the page.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image28.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb17.png" alt="image" title="image"></a></p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>We’ve been jumping around a bit and starting to form a few ideas about how the Asp.Net MVC Framework and Bootstrap can work together, but perhaps it’s time to look at a few of the basics that are already in use with the default template.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-14-bootstrap-alerts-and-mvc-framework-tempdata/" data-id="civldfwvv00lcpcyy4y1qvqnt" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-14-bootstrap-alerts-and-mvc-framework-tempdata/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-13-standard-styling-and-horizontal-forms" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-13-standard-styling-and-horizontal-forms/">Day 13: Standard Styling and Horizontal Forms</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-13-standard-styling-and-horizontal-forms/">
      <time datetime="2014-06-14T03:11:00.000Z" itemprop="datePublished">2014-06-13</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>With yesterday having a quick look at the inline styling for a search form, it’s only appropriate to have a look at the other types of styling as well. Users are going to want to enter data!</p>
<p>We’re going to make a quick pit stop first to update our Person class so that we can take advantage of a few of the validation features of both MVC and the Bootstrap library.</p>
<p>For you 15-minutes-or-less folks out there, sorry…this is one of the longer posts, but we’re covering a lot of useful ground!</p>
<h2 id="Updating_our_Person_Model__28Class_29_in_Person-cs"><a href="#Updating_our_Person_Model__28Class_29_in_Person-cs" class="headerlink" title="Updating our Person Model (Class) in Person.cs"></a>Updating our Person Model (Class) in Person.cs</h2><p>We’re going to need to do two things here, add a constructor (so we don’t run into problems with our collection) and make all fields except PersonId and Skills required. The Person class should look like this when you’re done:</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Person<br>{<br>    <span class="kwrd">public</span> Person()<br>    {<br>        Skills = <span class="kwrd">new</span> HashSet&lt;<span class="kwrd">string</span>&gt;();<br>        BirthDate = DateTime.Now.AddYears(-20);<br>    }</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;int&lt;/span&gt; PersonId { get; set; }

[Required]
&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;string&lt;/span&gt; FirstName { get; set; }

[Required]
&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;string&lt;/span&gt; LastName { get; set; }

[Required]
&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; DateTime BirthDate { get; set; }

[Required]
[UIHint(&lt;span class=&quot;str&quot;&gt;&quot;BooleanButtonLabel&quot;&lt;/span&gt;)]
&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;bool&lt;/span&gt; LikesMusic { get; set; }

[Required]
[EmailAddress]
&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;string&lt;/span&gt; EmailAddress { get; set; }

&lt;span class=&quot;kwrd&quot;&gt;public&lt;/span&gt; ICollection&amp;lt;&lt;span class=&quot;kwrd&quot;&gt;string&lt;/span&gt;&amp;gt; Skills { get; set; }
</code></pre><p>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Note that on the EmailAddress, we also added an attribute called, well, EmailAddress. This is a pre-defined validation attribute that the Framework uses to give us useful information in our controller, as well as to leverage client-side scripts for validation (to save round-tripping). Best of both worlds!</p>
<h2 id="Allowing_Create_on_Our_Controller"><a href="#Allowing_Create_on_Our_Controller" class="headerlink" title="Allowing Create on Our Controller"></a>Allowing Create on Our Controller</h2><p>Now we can pop into our controller and set things up for the create action. We’ll need two methods – one for the GET and one for the POST. The GET method creates a default Person object and passes it to the view.</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> ActionResult Create()<br>{<br>    var person = <span class="kwrd">new</span> Person();<br>    <span class="kwrd">return</span> View(person);<br>}</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>The POST method is decorated with an attribute and accepts an instance of Person back as a parameter. This is one of the really great features of the MVC Framework: while you still have access to the form collection and full request object, you don’t have to deal with the cruft unless you want or need to; the Framework performs “model binding” for you and fills in the properties of the parameter objects you are expecting based on the names of the fields passed in.</p>
<p><pre class="csharpcode">[HttpPost]<br><span class="kwrd">public</span> ActionResult Create(Person person)<br>{<br>    <span class="kwrd">if</span> (ModelState.IsValid)<br>    {<br>        _people.Add(person);<br>        <span class="kwrd">return</span> RedirectToAction(<span class="str">“Index”</span>);<br>    }</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; View(person);
</code></pre><p>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>The base Controller class that we inherit from also gives us some rich capabilities for evaluating the incoming parameter. We can inspect some simple pre-checked values, add validation error messages and deal with the user input as we see fit.</p>
<p>We are able to check ModelState.IsValid because we setup our model to require certain fields. You can add all kinds of validations to cover min and max values, ranges, matches based on Regexes, or, as we did, a check to make sure an Email address is valid. There are more still, and you can create your own if you like.</p>
<h2 id="Generating_the_View"><a href="#Generating_the_View" class="headerlink" title="Generating the View"></a>Generating the View</h2><p>Now, you’ve done this before but we’re going to approach it a little differently today. This time, when you right-click on the Create method in the controller, be sure to select the correct template and options.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image23.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb11.png" alt="image" title="image"></a></p>
<p>It’s a Create template, with the Person class as the model. You’ll want to clear the partial checkbox if it’s selected and make sure you “Include Script Libraries”.&nbsp; Remember that leaving the name of the view as Create allows the framework to pick it up on it’s own.</p>
<h2 id="This_One_u2019s_Not_Quite_Free"><a href="#This_One_u2019s_Not_Quite_Free" class="headerlink" title="This One’s Not Quite Free"></a>This One’s Not Quite Free</h2><p>The default view actually looks pretty good, in fact, you’d have to remove the form-horizontal style from the class attribute of the div (in the root of the form that is generated) to get the “standard” look-and-feel, which would be like this:</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image24.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb12.png" alt="image" title="image"></a></p>
<p>But you’ll notice that we’re missing something in particular: a way to add skills to our person. Also, it looks way better with that form-horizontal in there!</p>
<h2 id="Getting_Things_Straight"><a href="#Getting_Things_Straight" class="headerlink" title="Getting Things Straight"></a>Getting Things Straight</h2><p>So, if you removed that form-horizontal, add it back. Then we’re going to add the next little bit of markup, right before the submit button on the form:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”form-group”</span><span class="kwrd">&gt;</span><br>    @Html.LabelFor(model =<span class="kwrd">&gt;</span> model.Skills, htmlAttributes: new { @class = “control-label col-md-2” })<br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”col-md-10”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”input-group”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”input-group-btn”</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">class</span><span class="kwrd">=”btn btn-default”</span> <span class="attr">id</span><span class="kwrd">=”add-skill”</span> <span class="attr">type</span><span class="kwrd">=”button”</span><span class="kwrd">&gt;</span><br>                    <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”glyphicon glyphicon-plus”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”text”</span> <span class="attr">id</span><span class="kwrd">=”skill”</span> <span class="attr">class</span><span class="kwrd">=”form-control”</span> <span class="attr">placeholder</span><span class="kwrd">=”Type, then click + to add”</span> <span class="kwrd">/&gt;</span><br>        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<p><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=”skills-wrapper”</span><span class="kwrd">&gt;&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></p>
<p><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”form-group”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”col-md-offset-2 col-md-10”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">id</span><span class="kwrd">=”skills-list”</span> <span class="attr">class</span><span class="kwrd">=”list-group”</span><span class="kwrd">&gt;&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>You’ll notice that we don’t actually have any new form elements here that will submit with the form (the input there doesn’t have a name and won’t appear in the submitted form collection), but we have a textbox that lets you enter some text.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image25.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb13.png" alt="image" title="image"></a></p>
<p>There is an empty DIV there that we’ll use to add hidden text inputs to the form via jQuery. We also have a styled UL list in there that we’ll use to display what has already been added.</p>
<p>We’ll add the following script to make that markup tick, which you can add at the bottom of the scaffolded script section in Create.cshtml:</p>
<p><pre class="csharpcode">&lt;script&gt;<br>    $(<span class="kwrd">function</span> () {<br>        $(<span class="str">“#add-skill”</span>).click(<span class="kwrd">function</span> () {<br>            <span class="rem">// get the value of the added skill</span><br>            <span class="kwrd">var</span> skill = $(<span class="str">“#skill”</span>).val();</pre></p>
<pre><code>        &lt;span class=&quot;rem&quot;&gt;// push hidden input to our form&lt;/span&gt;
        $(&lt;span class=&quot;str&quot;&gt;&quot;#skills-wrapper&quot;&lt;/span&gt;).append($(&lt;span class=&quot;str&quot;&gt;&quot;&amp;lt;input type=&apos;hidden&apos; name=&apos;Skills&apos; value=&apos;&quot;&lt;/span&gt; + skill + &lt;span class=&quot;str&quot;&gt;&quot;&apos; /&amp;gt;&quot;&lt;/span&gt;));

        &lt;span class=&quot;rem&quot;&gt;// add list item for display purposes&lt;/span&gt;
        $(&lt;span class=&quot;str&quot;&gt;&quot;#skills-list&quot;&lt;/span&gt;).append($(&lt;span class=&quot;str&quot;&gt;&quot;&amp;lt;li class=&apos;list-group-item&apos;&amp;gt;&quot;&lt;/span&gt; + skill + &lt;span class=&quot;str&quot;&gt;&quot;&amp;lt;/li&amp;gt;&quot;&lt;/span&gt;));

        &lt;span class=&quot;rem&quot;&gt;// reset the form&lt;/span&gt;
        $(&lt;span class=&quot;str&quot;&gt;&quot;#skill&quot;&lt;/span&gt;).val(&lt;span class=&quot;str&quot;&gt;&quot;&quot;&lt;/span&gt;).focus();
    });
});
</code></pre><p>&lt;/script&gt;</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>The comments in the script lay out the goal here, essentially that we’re going to grab the value from the entry box and turn it into both a hidden form element and an LI in that unordered list we created earlier. Finally, we reset the input and set the focus.</p>
<p>Here it is in action!</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image26.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb14.png" alt="image" title="image"></a></p>
<h2 id="I_Really_Like_This_Part"><a href="#I_Really_Like_This_Part" class="headerlink" title="I Really Like This Part"></a>I Really Like This Part</h2><p>Remember how we didn’t add any form elements with the name “Skills”? Well, we did in our JavaScript. In fact, we’ll add as many <em>hidden</em> form elements with the same name, “Skills”, to the form as the user would like. What happens to those form elements with the same name?</p>
<p>In your controller, in the POST method you added, set a breakpoint <em>anywhere</em> in the code, then navigate to your Create page and fill out the form. When you submit, you’ll be able to inspect the Skills property of the person…the MVC Framework model binding is smart enough to see multiple instances of the same-named form element (in our case, a hidden text element) that has the name of a property in our model. </p>
<p>It news up a collection for us and populates it with the values. Sweet! </p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>While the form is now submitting and you can see any person you add in the collection, you wouldn’t know it unless you scrolled down on your index. Tomorrow we’ll add some more visibility into what is going on with Bootstrap alerts, assisted by a new base class for our controller and TempData.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-13-standard-styling-and-horizontal-forms/" data-id="civldfwvz00lipcyykeh2wej8" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-13-standard-styling-and-horizontal-forms/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-12" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-12/">Day 12: Implement Search Using Inline Forms and AJAX</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-12/">
      <time datetime="2014-06-13T03:18:27.000Z" itemprop="datePublished">2014-06-12</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>It had to happen; at some point we were going to need to let our users enter some data! Well, that time has come, so let’s start by adding a handy-dandy search form to our Person page.</p>
<p>Forms will need a few cues on how to properly render themselves and take part in Booststrap’s style party of awesome. Let’s get a search form going and start filtering our results.</p>
<h2 id="Adding_the_Search_Bar"><a href="#Adding_the_Search_Bar" class="headerlink" title="Adding the Search Bar"></a>Adding the Search Bar</h2><p>There are actually a few styles of forms that you can get going. A standard styling gives you label-over-control type layout, horizontal forms give you label-beside-control layout and inline styling gives you controls without labels side-by-each continuously in the row. That’s the one we’ll go with to generate our simple search form:</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image20.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb6.png" alt="image" title="image"></a></p>
<p>Create a partial view under the Views\Person folder. You can make it an empty one, and call it _PersonSearchForm.cshtml.&nbsp; Paste in the following code:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">hr</span><span class="kwrd">/&gt;</span><br><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”container”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”pull-right”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">class</span><span class="kwrd">=”form-inline”</span> <span class="attr">role</span><span class="kwrd">=”form”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”form-group”</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">class</span><span class="kwrd">=”sr-only”</span> <span class="attr">for</span><span class="kwrd">=”search-text”</span><span class="kwrd">&gt;</span>Email address<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br>                <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”text”</span> <span class="attr">class</span><span class="kwrd">=”form-control”</span> <span class="attr">id</span><span class="kwrd">=”search-text”</span> <span class="attr">placeholder</span><span class="kwrd">=”Enter Search Text”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success”</span> <span class="attr">id</span><span class="kwrd">=”search-btn”</span><span class="kwrd">&gt;</span>Search<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>We have a few things going on here:</p>
<ul>
<li>The HR tag is just a style thing and not required. It makes the search form look more “balanced” vertically on the form.</li><li>There is a DIV that acts as a container, keeping our content separate from the rest of the page. It is a wrapper for a “pull-right” styled DIV that moves our search bar over to the right hand side of the page.</li><li>The form is given a class of “form-inline”. This is the first important part of making our controls and labels show up correctly.</li><li>Inside that FORM element we have a DIV with a class of “form-group”. This lets Bootstrap know (or rather, the browser through Bootstrap’s CSS) that these controls are related in some way. Specifically, we have a label for an input.</li><li>Because this is an “inline” form, we’re using the “sr-only” class on the label to eat the display and keep the visuals tidy. “SR” stands for “Screen Reader”; this is an accessibility tag.</li>
</ul>
<p>When the form data comes calling, we’re going to need someone to answer the phone on the controller side.</p>
<h2 id="The_Controller_u2019s_Search_Method"><a href="#The_Controller_u2019s_Search_Method" class="headerlink" title="The Controller’s Search Method"></a>The Controller’s Search Method</h2><p>In your PersonController class, add the following public method:</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> ActionResult SearchPeople(<span class="kwrd">string</span> searchText)<br>{<br>    var term = searchText.ToLower();<br>    var result = _people<br>        .Where(p =&gt;<br>            p.FirstName.ToLower().Contains(term) ||<br>            p.LastName.ToLower().Contains(term)<br>        );</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; PartialView(&lt;span class=&quot;str&quot;&gt;&quot;_SearchPeople&quot;&lt;/span&gt;, result);
</code></pre><p>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>This accepts a string parameter and finds any matches where FirstName or LastName match what the user entered, then it returns via a call to PartialView to generate the result. We’re using a partial because we don’t want to have to reload the entire page each time the user clicks the search button.</p>
<blockquote>
<p><strong>A quick note</strong>: the astute reader will note that that this simplified method of search won’t pass the <a href="http://www.moserware.com/2008/02/does-your-code-pass-turkey-test.html" target="_blank" rel="external">Turkey Test</a>. If you work with different cultures, this is a great side-read, and you’ll need to approach the problem in a different way.</p>
</blockquote>
<p>Later in the series we’ll cover best practices around accessing and filtering data, but this approach will suffice for now, using the local static collection of data that we built <a href="http://jameschambers.com/2014/06/day-11-realistic-test-data-for-our-view/">yesterday</a>.</p>
<p>When we call PartialView the MVC Framework doesn’t attempt to resolve a layout, so we just get the meat that lives in the cshtml file itself and as processed by the view engine. Rendered via the controller, we have to pass in our data as a parameter. If you were rendering a partial via a View (with an HtmlHelper) the partial could ‘inherit’ the parent page’s model and use that to render your content. The partial we need should be located in Views\Person\ and called _SearchPeople.cshtml and the code looks like the following:</p>
<p><pre class="csharpcode">@model IEnumerable<span class="kwrd">&lt;</span><span class="html">SimpleSite.Models.Person</span><span class="kwrd">&gt;</span></pre></p>
<p>@Html.DisplayForModel(Model)</p>
<p>@if (!Model.Any())<br>{<br>    <span class="kwrd">&lt;</span><span class="html">h3</span><span class="kwrd">&gt;</span>Sorry!<span class="kwrd">&lt;/</span><span class="html">h3</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>Looks like there’s no results for that person.<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Partial in place, controller set up to search…off to the core view.</p>
<h2 id="Updating_the_View"><a href="#Updating_the_View" class="headerlink" title="Updating the View"></a>Updating the View</h2><p>Back in Views\Person\Index.cshtml there isn’t a lot we have to do to get our form to display. Update the code so it reads as follows:</p>
<p><pre class="csharpcode">@model IEnumerable<span class="kwrd">&lt;</span><span class="html">SimpleSite.Models.Person</span><span class="kwrd">&gt;</span></pre></p>
<p>@{ Html.RenderPartial(“_PersonSearchForm”); }</p>
<p><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">=”people-data”</span><span class="kwrd">&gt;</span><br>    @Html.DisplayForModel(Model)<br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>I have updated the view from yesterday by wrapping the data with a DIV that acts as a container. We’ll use that later when we AJAX up the page. Press CTRL+F5 to see the updated view in action.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image21.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb8.png" alt="image" title="image"></a></p>
<p>This handles the display aspect, but we need some script in place to handle the button click and make the AJAX call, finally updating the page with the search results. Add a script section to the bottom of the page as follows:</p>
<p><pre class="csharpcode">@section scripts<br>{<br>    <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">type</span><span class="kwrd">=”text/javascript”</span><span class="kwrd">&gt;</span><br>        $(<span class="kwrd">function</span> () {<br>            <span class="rem">// it’s lonely here…</span><br>        });<br>    <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span><br>}<br></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<blockquote>
<p><strong>Today’s Bonus Content</strong>: Sections are defined in the layout page that is used by your view. You can find them in Views\Shared_Layout.cshtml. These sections can be required or optional per your needs. The default template defines only the scripts section, but you may often wish to include something in the page header or footer. Oooo! Sounds like another blog post!</p>
</blockquote>
<p>Now the script doesn’t do anything quite yet, except give us a place to land. What you see above is called a “self-executing anonymous method”, which is a good term to know if you want to sound smart around your boss. Basically, jQuery will make sure any code in this block is executed in a cross-browser friendly way <em>after</em> the page is finished loading. </p>
<p>Replace that lonely comment with the following code:</p>
<p><pre class="csharpcode">$(<span class="str">“#search-btn”</span>).click(<span class="kwrd">function</span> () {<br>    <span class="kwrd">var</span> searchTerm = $(<span class="str">“#search-text”</span>).val();<br>    $.get(<span class="str">“SearchPeople”</span>, { searchText: searchTerm })<br>        .success(<span class="kwrd">function</span>(data) {<br>        $(<span class="str">“#people-data”</span>).html(data);<br>    });<br>});</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>If you’re not familiar with JavaScript or the patterns that jQuery uses, here’s little breakdown of what is happening:</p>
<ul>
<li>A click event handler is setup for the element in the DOM that has an ID of “search-btn”.</li><li>The event handler is an anonymous method that invokes the jQuery get() method, passing in the action that we’re targeting and the data that we’re trying to pass in.</li><li>The data we’re passing in is read from the form and assigned to the searchText key</li><li>When you pass in parameters from calls like this, you need to make sure spelling and case are identical to avoid rapid hair loss. And null values.</li><li>The get() method follows the “promise” pattern, and you get to register a callback when the search is completed. Here, we use the success callback.</li><li>Our anonymous callback is invoked when the AJAX completes successfully and it updates the data container (“people-data”) with the HTML that is returned from our controller.</li>
</ul>
<p>Try typing in some search terms from your Person\Index page.</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image22.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb9.png" alt="image" title="image"></a></p>
<p>Bazinga!</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Our search form looks fine but wouldn’t be ideal for data entry. Tomorrow we’ll look at the other two variants of forms and wire up a view (and our controller) to allow users to create new people.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-12/" data-id="civldfww400lopcyy5a013781" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-12/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-11-realistic-test-data-for-our-view" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-11-realistic-test-data-for-our-view/">Day 11: Realistic Test Data for Our View</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-11-realistic-test-data-for-our-view/">
      <time datetime="2014-06-11T15:04:00.000Z" itemprop="datePublished">2014-06-11</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>If a controller deals with a certain type of data – say, entities of the Person type – the index will typically contain a collection of data of that type, or perhaps some other related interface (such as search or filter capabilities, or partial views of related data). Let’s add a PersonController and get a feel for what that looks like.</p>
<h2 id="Creating_the_Person_Controller"><a href="#Creating_the_Person_Controller" class="headerlink" title="Creating the Person Controller"></a>Creating the Person Controller</h2><p>Back on <a href="http://jameschambers.com/2014/06/day-3-adding-a-controller-and-view/">Day 3</a> we added a SimpleController to our project. Use the same approach to create a new, empty controller now called PersonController.&nbsp; The Index method is the only one in the class, but it’s going to need some data.</p>
<h2 id="Generating_Realistic_Test_Data"><a href="#Generating_Realistic_Test_Data" class="headerlink" title="Generating Realistic Test Data"></a>Generating Realistic Test Data</h2><p>Now, we have a couple of options to get data. We can hand-bomb 25 (or 5 or 10 or 100) entries into some kind of text file. We can new up dozens of objects with copy &amp; paste and have 60 of the exact same person. Or, we can use a test data generator while we flush out our application and get realistic test data with minimum effort.&nbsp; Let’s try that!</p>
<p>Go to your Package Manager Console. If you don’t see that window, typically in the bottom of Visual Studio in one of the tabs. If you still don’t see it, try opening it from View –&gt; Other Windows –&gt; Package Manager Console.</p>
<p>Now, let’s install a package that will generate our data for us, called AngelaSmith. Type the following command in the Package Manager Console:</p>
<pre class="csharpcode">Install-Package AngelaSmith -Version 1.0.1</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

You should see confirmation that the package is installed.

## Configuring AngelaSmith

We’ll need a place to store the data that is generated, so at the class level, add a static field.
<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">static</span> ICollection&lt;Person&gt; _people;</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

We’re making it static so that we don’t have to recreate the data on each page load, just when the app starts up.&nbsp; Now add a static controller to configure the data generator.
<pre class="csharpcode"><span class="kwrd">static</span> PersonController()
{
    _people = Angie.Configure&lt;Person&gt;()
        .Fill(p =&gt; p.BirthDate)
        .AsPastDate()
        .Fill(p =&gt; p.LikesMusic)
        .WithRandom(<span class="kwrd">new</span> List&lt;<span class="kwrd">bool</span>&gt;(){<span class="kwrd">true</span>, <span class="kwrd">true</span>, <span class="kwrd">true</span>, <span class="kwrd">false</span>, <span class="kwrd">false</span>})
        .Fill(p =&gt; p.Skills, () =&gt; <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;() { <span class="str">"Math"</span>, <span class="str">"Science"</span>, <span class="str">"History"</span> })
        .MakeList&lt;Person&gt;(20);
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

It might seem like a lot is going on, but it’s actually quite straightforward. First is a call to the Configure method to enter configuration mode.
<pre class="csharpcode">_people = Angie.Configure&lt;Person&gt;()</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Then we have three Fill statements that demonstrate a few of the ways that we can generate data. For example, you can get a date from the past, fill a property with a random value (60% of the time LikesMusic will be true), or, here, use a lambda to set up an anonymous function to populate the value.
<pre class="csharpcode">.Fill(p =&gt; p.Skills, () =&gt; <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;() { <span class="str">"Math"</span>, <span class="str">"Science"</span>, <span class="str">"History"</span> })</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Finally, we call the MakeList method to get the list of 20 entities. By default, it will generate 25 but you can specify however many you like.
<pre class="csharpcode">.MakeList&lt;Person&gt;(20);</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

## Adding the Index View

We’ll need to pass the view some data, when it’s ready, so let’s now update our Index method so that it does that.
<pre class="csharpcode"><span class="kwrd">public</span> ActionResult Index()
{
    <span class="kwrd">return</span> View(_people);
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

You’re going to like this part. Add an empty View to the project by right-clicking on the Index method of the Person Controller. Then add the following code:
<pre class="csharpcode">@model IEnumerable<span class="kwrd">&lt;</span><span class="html">SimpleSite.Models.Person</span><span class="kwrd">&gt;</span>

@Html.DisplayForModel(Model)</pre>

<p>Yeup! That’s it! Run your site to see your list of peeps!</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image19.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb5.png" alt="image" title="image"></a> </p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Now that we’ve got some data to work with, let’s start exploring the parts of Bootstrap that can be easily used to add some zing to our site. Tomorrow, we’ll create a form that can be used to search our people.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-11-realistic-test-data-for-our-view/" data-id="civldfww800lupcyyv07gp4uf" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-11-realistic-test-data-for-our-view/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-10-htmlhelper-extension-methods" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/day-10-htmlhelper-extension-methods/">Day 10: HtmlHelper Extension Methods</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/06/day-10-htmlhelper-extension-methods/">
      <time datetime="2014-06-10T15:13:00.000Z" itemprop="datePublished">2014-06-10</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>As we extracted our Person template we stubbed in a placeholder for a person’s avatar. Rather than creating our own system for uploading, resizing and storing the images, we’ll use a commonly used service on the internet called Gravatar to display one that many users might already have.</p>
<h2 id="A_Gravatar_Extension_Method"><a href="#A_Gravatar_Extension_Method" class="headerlink" title="A Gravatar Extension Method"></a>A Gravatar Extension Method</h2><p>The format for Gravatar images is as follows:</p>
<blockquote>
<p><a href="http://www.gravatar.com/avatar/MD5HASH?options" target="_blank" rel="external">http://www.gravatar.com/avatar/MD5HASH?options</a> </p>
</blockquote>
<p>The MD5 hash is computed based on their email address, and there are a few options worth noting. Below are the querystring parameters we’ll be using to generate our image.</p>
<ul>
<li><strong>Default Image</strong>: the image or type of image to use or generate if there isn’t a Gravatar for the specified email address.  </li><li><strong>Size</strong>: the size of the image to be returned, always a square.  </li><li><strong>Rating</strong>: users self-specify their rating and can use different avatars for different audiences. </li>
</ul>
<p>We’ll represent those options in an class that we’ll use as a parameter.&nbsp; Create a Helpers folder, then create a class called GravatarOptions in it.</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> GravatarOptions
{
    <span class="kwrd">public</span> <span class="kwrd">string</span> DefaultImageType { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">string</span> RatingLevel { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">int</span> Size { get; set; }

    <span class="kwrd">public</span> <span class="kwrd">class</span> DefaultImage
    {
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Default = <span class="str">""</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Http404 = <span class="str">"404"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> MysteryMan = <span class="str">"mm"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Identicon = <span class="str">"identicon"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> MonsterId = <span class="str">"monsterid"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Wavatar = <span class="str">"wavatar"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> Retro = <span class="str">"retro"</span>;
    }

    <span class="kwrd">public</span> <span class="kwrd">class</span> Rating
    {
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> G = <span class="str">"g"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> PG = <span class="str">"pg"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> R = <span class="str">"r"</span>;
        <span class="kwrd">public</span> <span class="kwrd">const</span> <span class="kwrd">string</span> X = <span class="str">"x"</span>;
    }

    <span class="kwrd">internal</span> <span class="kwrd">static</span> GravatarOptions GetDefaults()
    {
        <span class="kwrd">return</span> <span class="kwrd">new</span> GravatarOptions
        {
            DefaultImageType = GravatarOptions.DefaultImage.Retro,
            Size = 150,
            RatingLevel = GravatarOptions.Rating.G
        };
    }
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

And finally, add a class called GravatarHelper, then add the following code:
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">class</span> GravatarHelper
{
    <span class="kwrd">public</span> <span class="kwrd">static</span> HtmlString GravatarImage(<span class="kwrd">this</span> HtmlHelper htmlHelper, <span class="kwrd">string</span> emailAddress, GravatarOptions options = <span class="kwrd">null</span>)
    {
        <span class="kwrd">if</span> (options == <span class="kwrd">null</span>)
            options = GravatarOptions.GetDefaults();

        var imgTag = <span class="kwrd">new</span> TagBuilder(<span class="str">"img"</span>);

        emailAddress = <span class="kwrd">string</span>.IsNullOrEmpty(emailAddress) ? <span class="kwrd">string</span>.Empty : emailAddress.Trim().ToLower();

        imgTag.Attributes.Add(<span class="str">"src"</span>,
            <span class="kwrd">string</span>.Format(<span class="str">"http://www.gravatar.com/avatar/{0}?s={1}{2}{3}"</span>,
                GetMd5Hash(emailAddress),
                options.Size,
                <span class="str">"&amp;d="</span> + options.DefaultImageType,
                <span class="str">"&amp;r="</span> + options.RatingLevel
                )
            );

        <span class="kwrd">return</span> <span class="kwrd">new</span> HtmlString(imgTag.ToString(TagRenderMode.SelfClosing));
    }

    <span class="rem">// Source: http://msdn.microsoft.com/en-us/library/system.security.cryptography.md5.aspx</span>
    <span class="kwrd">private</span> <span class="kwrd">static</span> <span class="kwrd">string</span> GetMd5Hash(<span class="kwrd">string</span> input)
    {
        <span class="kwrd">byte</span>[] data = MD5.Create().ComputeHash(Encoding.UTF8.GetBytes(input));
        var sBuilder = <span class="kwrd">new</span> StringBuilder();
        <span class="kwrd">for</span> (<span class="kwrd">int</span> i = 0; i &lt; data.Length; i++)
        {
            sBuilder.Append(data[i].ToString(<span class="str">"x2"</span>));
        }
        <span class="kwrd">return</span> sBuilder.ToString();
    }
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Extension methods accept the type you are extending as the first parameter and operate on the instance of the object, though they are defined as a static. This may help understand why you must pass the first parameter as the type you want to extend with the _this_ modifier.&nbsp; You can then optionally any additional parameters that you will need to work with. For us, we’re just accepting the email address and a GravatarOptions instance.

In our helper, we create a tag builder for images, then build the URL based on the options the user has provided. If they haven’t provided the parameter, we simply load a set of defaults from our options class.

_**Note**: This is an overly-simplified version of [Andrew Freemantle’s](https://github.com/AndrewFreemantle) work on his [Gravatar-HtmlHelper](https://github.com/AndrewFreemantle/Gravatar-HtmlHelper) project on GitHub. Please visit his project for a more complete implementation._

## Using the Gravatar in our Person Template

Our HTML helper will work like any other HTML helper, but we need to let the MVC Framework know where to find it. To do so, we’ll have to go and add the namespace to our Web.Config in our Views folder (located at Views\Web.Config). We could also add a using statement to each page where we want to use our helper, but adding it to the web config file makes it globally available throughout our views. Add the following to the Razor namespaces section in that file:
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">add</span> <span class="attr">namespace</span><span class="kwrd">="SimpleSite.Helpers"</span><span class="kwrd">/&gt;</span></pre>

<p>We’ll need an email address, so add the following property in Person.cs.</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">string</span> EmailAddress { get; set; }</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Next, jump back into your SimpleController class and update the instantiation of the person object so that they have a value in there:</p>
<p><pre class="csharpcode">var person = <span class="kwrd">new</span> Person<br>{<br>    FirstName = <span class="str">“Billy Jo”</span>,<br>    LastName = <span class="str">“McGuffery”</span>,<br>    BirthDate = <span class="kwrd">new</span> DateTime(1990, 6,1),<br>    LikesMusic = <span class="kwrd">true</span>,<br>    EmailAddress = <span class="str">“Bill@jo.com”</span>,<br>    Skills = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;() { <span class="str">“Math”</span>, <span class="str">“Science”</span>, <span class="str">“History”</span> }<br>};</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Now, update your Person.cshtml template by replacing the image tag with the following:</p>
<p><pre class="csharpcode">@Html.GravatarImage(Model.EmailAddress)</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Then, pop into your browser to see the fruits of your effort!</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/06/image18.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/06/image_thumb3.png" alt="image" title="image"></a></p>
<p>The gravatar image will be updated for any email address that you put in. You can try playing with the different defaults, your own email address or other options. </p>
<p><em><strong>Another note:</strong> I wouldn’t actually advocate creating a full implementation of an HtmlHelper method for Gravatars. The point of this exercise was to walk through a simple implementation, but there are much more complete helpers available on NuGet, ready to be deployed to your app. If you’d like to work on one of them, they are pretty much all open source, so feel free to contribute!</em></p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Great, now we have a basic extension method to make outputting a Gravatar much more simply, but we’re going to need to address our Index view. It’s typically a list of entities, with a link to a details view, not just a single item. Tomorrow, we’ll tackle getting that list set up and move the single view version to it’s own action and view.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/06/day-10-htmlhelper-extension-methods/" data-id="civldfwwc00m0pcyyb157z16o" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/06/day-10-htmlhelper-extension-methods/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/12/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/14/">Next &raquo;</a>
      </nav>
    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recent</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/11/Fan-out-workloads-in-Azure-Function-Apps/" class="title">Fan out workloads in Azure Function Apps</a></p>
              <p class="item-date"><time datetime="2016-11-16T12:51:32.000Z" itemprop="datePublished">2016-11-16</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/11/Resizing-Images-Using-Azure-Functions/" class="title">How to Resize Images Uploaded to Blob Storage with Azure Functions</a></p>
              <p class="item-date"><time datetime="2016-11-15T13:04:26.000Z" itemprop="datePublished">2016-11-15</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/11/How-to-organize-types-in-your-scripts/" class="title">How to organize types in your Azure Function scripts</a></p>
              <p class="item-date"><time datetime="2016-11-14T13:00:00.000Z" itemprop="datePublished">2016-11-14</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/11/Five-Days-of-Azure-Functions/" class="title">Five Days of Azure Functions</a></p>
              <p class="item-date"><time datetime="2016-11-11T21:03:50.000Z" itemprop="datePublished">2016-11-11</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/09/Bending-ASP-NET-MVC-Core-To-Your-Will/" class="title">Bending ASP.NET Core MVC To Your Will</a></p>
              <p class="item-date"><time datetime="2016-09-09T17:46:34.000Z" itemprop="datePublished">2016-09-09</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Buy me a coffee?</h3>
    <div class="widget">
        <a href="https://www.paypal.me/jameschambers/3.5usd" target="_blank"><img src="/content/coffee.png"></a>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/30DaysMvcBootstrap/" style="font-size: 17.86px;">30DaysMvcBootstrap</a> <a href="/tags/5-days-of-Azure-Functions/" style="font-size: 12.14px;">5 days of Azure Functions</a> <a href="/tags/8DaysOfTableStorage/" style="font-size: 11.43px;">8DaysOfTableStorage</a> <a href="/tags/ASP-NET/" style="font-size: 15px;">ASP.NET</a> <a href="/tags/ASP-NET-5/" style="font-size: 10.71px;">ASP.NET 5</a> <a href="/tags/ASP-NET-Core/" style="font-size: 12.86px;">ASP.NET Core</a> <a href="/tags/ASP-NET-Core-MVC/" style="font-size: 10px;">ASP.NET Core MVC</a> <a href="/tags/ActionFilters/" style="font-size: 10px;">ActionFilters</a> <a href="/tags/AllReady/" style="font-size: 10px;">AllReady</a> <a href="/tags/Android/" style="font-size: 10.71px;">Android</a> <a href="/tags/AngelaSmith/" style="font-size: 10px;">AngelaSmith</a> <a href="/tags/Asp-Net-MVC/" style="font-size: 20px;">Asp.Net MVC</a> <a href="/tags/Authentication/" style="font-size: 10.71px;">Authentication</a> <a href="/tags/Azure/" style="font-size: 17.14px;">Azure</a> <a href="/tags/Azure-Functions/" style="font-size: 12.14px;">Azure Functions</a> <a href="/tags/Azure-Web-Apps/" style="font-size: 10px;">Azure Web Apps</a> <a href="/tags/Azure-Websites/" style="font-size: 13.57px;">Azure Websites</a> <a href="/tags/BUILD/" style="font-size: 10px;">BUILD</a> <a href="/tags/BitBucket/" style="font-size: 10px;">BitBucket</a> <a href="/tags/Bootstrap/" style="font-size: 15.71px;">Bootstrap</a> <a href="/tags/CTT-NUG/" style="font-size: 10px;">CTT .NUG</a> <a href="/tags/Calgary/" style="font-size: 10px;">Calgary</a> <a href="/tags/Cisco-VPN/" style="font-size: 10px;">Cisco VPN</a> <a href="/tags/ClearMeasure/" style="font-size: 10.71px;">ClearMeasure</a> <a href="/tags/CodeProject/" style="font-size: 11.43px;">CodeProject</a> <a href="/tags/Conferences/" style="font-size: 10.71px;">Conferences</a> <a href="/tags/CouchDb/" style="font-size: 10px;">CouchDb</a> <a href="/tags/DNX/" style="font-size: 10px;">DNX</a> <a href="/tags/Dojo/" style="font-size: 10px;">Dojo</a> <a href="/tags/Email/" style="font-size: 10px;">Email</a> <a href="/tags/Entity-Framework/" style="font-size: 13.57px;">Entity Framework</a> <a href="/tags/Extension-Methods/" style="font-size: 10px;">Extension Methods</a> <a href="/tags/FontAwesome/" style="font-size: 10.71px;">FontAwesome</a> <a href="/tags/GenFu/" style="font-size: 10px;">GenFu</a> <a href="/tags/GetManifestResourceStream/" style="font-size: 10px;">GetManifestResourceStream</a> <a href="/tags/Git/" style="font-size: 11.43px;">Git</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/HackAThon/" style="font-size: 10px;">HackAThon</a> <a href="/tags/HtmlHelper/" style="font-size: 10px;">HtmlHelper</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/JSON/" style="font-size: 10.71px;">JSON</a> <a href="/tags/Keynote/" style="font-size: 10px;">Keynote</a> <a href="/tags/Life-Hack/" style="font-size: 10px;">Life Hack</a> <a href="/tags/Life-Hacking/" style="font-size: 10.71px;">Life Hacking</a> <a href="/tags/Life-Hacks/" style="font-size: 12.86px;">Life Hacks</a> <a href="/tags/Linq/" style="font-size: 10px;">Linq</a> <a href="/tags/MIX11/" style="font-size: 10px;">MIX11</a> <a href="/tags/MVA/" style="font-size: 10.71px;">MVA</a> <a href="/tags/MVC/" style="font-size: 19.29px;">MVC</a> <a href="/tags/MVC5/" style="font-size: 18.57px;">MVC5</a> <a href="/tags/MVC6/" style="font-size: 13.57px;">MVC6</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Make-Code-Not-War/" style="font-size: 10px;">Make Code Not War</a> <a href="/tags/MeasureUp/" style="font-size: 10px;">MeasureUp</a> <a href="/tags/Metro/" style="font-size: 10px;">Metro</a> <a href="/tags/Microsoft/" style="font-size: 10px;">Microsoft</a> <a href="/tags/Microsoft-Band/" style="font-size: 12.14px;">Microsoft Band</a> <a href="/tags/Mobile/" style="font-size: 10px;">Mobile</a> <a href="/tags/Mobile-Services/" style="font-size: 10px;">Mobile Services</a> <a href="/tags/Motivate/" style="font-size: 10px;">Motivate</a> <a href="/tags/MvcScaffolding/" style="font-size: 11.43px;">MvcScaffolding</a> <a href="/tags/Not-Coding-At-All/" style="font-size: 10px;">Not Coding At All</a> <a href="/tags/NuGet/" style="font-size: 15px;">NuGet</a> <a href="/tags/OData/" style="font-size: 10px;">OData</a> <a href="/tags/PayPal/" style="font-size: 10px;">PayPal</a> <a href="/tags/PostSharp/" style="font-size: 10px;">PostSharp</a> <a href="/tags/Practice/" style="font-size: 10.71px;">Practice</a> <a href="/tags/Practice-of-Awesome/" style="font-size: 10px;">Practice of Awesome</a> <a href="/tags/PrairieDevCon/" style="font-size: 16.43px;">PrairieDevCon</a> <a href="/tags/Queues/" style="font-size: 10px;">Queues</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/Radio/" style="font-size: 10px;">Radio</a> <a href="/tags/Razor/" style="font-size: 10.71px;">Razor</a> <a href="/tags/Real-Life/" style="font-size: 10px;">Real Life</a> <a href="/tags/Regina/" style="font-size: 10.71px;">Regina</a> <a href="/tags/Remote-Work/" style="font-size: 11.43px;">Remote Work</a> <a href="/tags/Resolve/" style="font-size: 10px;">Resolve</a> <a href="/tags/Rock-Paper-Scissors/" style="font-size: 10px;">Rock Paper Scissors</a> <a href="/tags/Routing/" style="font-size: 10px;">Routing</a> <a href="/tags/Ruby-on-Rails/" style="font-size: 10px;">Ruby on Rails</a> <a href="/tags/SDEC/" style="font-size: 10px;">SDEC</a> <a href="/tags/SOAP/" style="font-size: 10px;">SOAP</a> <a href="/tags/SQL-Server/" style="font-size: 10px;">SQL Server</a> <a href="/tags/ServiceBus/" style="font-size: 10px;">ServiceBus</a> <a href="/tags/SignalR/" style="font-size: 11.43px;">SignalR</a> <a href="/tags/Speaking/" style="font-size: 11.43px;">Speaking</a> <a href="/tags/TFS/" style="font-size: 10px;">TFS</a> <a href="/tags/Table-Storage/" style="font-size: 10.71px;">Table Storage</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 10px;">Unit Testing</a> <a href="/tags/Visual-Studio/" style="font-size: 10.71px;">Visual Studio</a> <a href="/tags/Visual-Studio-11/" style="font-size: 11.43px;">Visual Studio 11</a> <a href="/tags/Visual-Studio-2010/" style="font-size: 16.43px;">Visual Studio 2010</a> <a href="/tags/Visual-Studio-2012/" style="font-size: 12.86px;">Visual Studio 2012</a> <a href="/tags/Visual-Studio-2013/" style="font-size: 10.71px;">Visual Studio 2013</a> <a href="/tags/Visual-Studio-2015/" style="font-size: 15.71px;">Visual Studio 2015</a> <a href="/tags/WCF/" style="font-size: 10.71px;">WCF</a> <a href="/tags/Web-API/" style="font-size: 11.43px;">Web API</a> <a href="/tags/Web-Development/" style="font-size: 10px;">Web Development</a> <a href="/tags/Web-Services/" style="font-size: 10.71px;">Web Services</a> <a href="/tags/Windows-8/" style="font-size: 11.43px;">Windows 8</a> <a href="/tags/Windows-Azure/" style="font-size: 10px;">Windows Azure</a> <a href="/tags/Windows-Phone/" style="font-size: 14.29px;">Windows Phone</a> <a href="/tags/Windws-Live-Writer/" style="font-size: 10px;">Windws Live Writer</a> <a href="/tags/Winnipeg/" style="font-size: 10.71px;">Winnipeg</a> <a href="/tags/c/" style="font-size: 13.57px;">c#</a> <a href="/tags/compiling/" style="font-size: 10px;">compiling</a> <a href="/tags/jQuery/" style="font-size: 12.14px;">jQuery</a> <a href="/tags/jQuery-UI/" style="font-size: 10.71px;">jQuery UI</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/open-source/" style="font-size: 10.71px;">open source</a> <a href="/tags/reflection/" style="font-size: 10px;">reflection</a> <a href="/tags/seed-data/" style="font-size: 10px;">seed data</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/">2015</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/">2014</a><span class="archive-list-count">42</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/">2013</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/">2012</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/">2011</a><span class="archive-list-count">36</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 1999 - 2016 James Chambers<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script>
  var disqus_shortname = 'jameschambers';
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>