<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>They Call Me Mister James</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta property="og:type" content="website">
<meta property="og:title" content="They Call Me Mister James">
<meta property="og:url" content="http://jameschambers.com/page/8/index.html">
<meta property="og:site_name" content="They Call Me Mister James">
<meta property="og:description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="They Call Me Mister James">
<meta name="twitter:description" content="This is the blog of James Chambers, a senior developer on the .NET stack">
<meta name="twitter:creator" content="@CanadianJames">
<meta name="twitter:site" content="CanadianJames">
  
  
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="content/avatar.png">
  
  
 <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>


  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-2868185-6', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  

  
  <script src="//load.sumome.com/" data-sumo-site-id="34f480920bcf5ea13ec1605be65d32e86be89fb7177416fb68c2d2f1939aaa04" async="async"></script>
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo" style="background-image: url(/content/logo_round.png)"></i><span class="site-title">They Call Me Mister James</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/about/bootstrapping-mvc.html">Boostrapping MVC</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">Testimonials</a>
        
          <a class="main-nav-link" href="/about/genfu.html">GenFu</a>
        
        <a class="main-nav-link main-nav-link-highlight" href="https://hireme.jameschambers.com" target="_blank">Hire Me</a>
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/content/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://jameschambers.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/about/bootstrapping-mvc.html">Boostrapping MVC</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/about">Testimonials</a></td>
        
          <td><a class="main-nav-link" href="/about/genfu.html">GenFu</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://jameschambers.com"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <h2 id="name">James Chambers</h2>
      <h3 id="title">Husband, Father, Mentor, Humanitarian &amp; Software Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Canada</span>
      <a id="follow" href="https://twitter.com/canadianjames">FOLLOW</a>
    </div>

    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="/CanadianJames" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="http://github.com/MisterJames" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
          <td><a href="https://ca.linkedin.com/in/canadianjames" target="_blank" title="linkedin"><i class="fa fa-linkedin"></i></a></td>
          
          <td><a href="https://www.youtube.com/user/CodingMisterJames/" target="_blank" title="youtube"><i class="fa fa-youtube"></i></a></td>
          
        </tr>
      </table>
    </div>
    

    <div class="base-info profile-block">
        <a href="http://aspnetmonsters.com" target="_blank"><img src="/content/monster-james.png"></a>      
    </div>

    <div class="base-info profile-block">
        <a href="https://leanpub.com/bootstrappingmvc" onclick="_gaq.push(['_trackEvent', 'outbound-widget', 'https://leanpub.com/bootstrappingmvc', '\n\n']);">
            <img src="https://s3.amazonaws.com/titlepages.leanpub.com/bootstrappingmvc/medium?1425560219" scale="0">
        </a>
    </div>
        
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-using-font-awesome-in-an-accessible-bindable-star-rating-control" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/using-font-awesome-in-an-accessible-bindable-star-rating-control/">Using Font Awesome in an Accessible, Bindable Star Rating Control</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/09/using-font-awesome-in-an-accessible-bindable-star-rating-control/">
      <time datetime="2014-09-08T07:00:49.000Z" itemprop="datePublished">2014-09-08</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p><font size="1"><br></font><a href="https://leanpub.com/bootstrappingmvc" title="Bootstrapping MVC - THE eBook for developers using Bootstrap on MVC" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/09/banner.png" alt="banner" title="banner"></a></p>
<p>Creating a rating control that works across browsers, looks good and can be taken advantage of by the MVC Framework requires a little CSS know-how, a couple of freely-available frameworks and some convention-following. There’s a bit of work to get it set up, but it’s reusable, accessible and gosh darn it, it looks good, too.</p>
<p>Don’t overlook the accessible bits! It’s important to remember that most organizations and agencies have policies in place ensuring that folks with disabilities can use alternate methods to view your site. While I am by no means an expert in this area I do have the help of a friend who will try things out for me from time to time in a screen reader and I try to keep these concerns at the front of my mind when doing something “off course”.</p>
<h2 id="Our_Starting_Point"><a href="#Our_Starting_Point" class="headerlink" title="Our Starting Point"></a>Our Starting Point</h2><p>I’m building off of <a href="http://jameschambers.com/2014/08/adding-some-font-awesome-to-mvc-and-bootstrap/" title="Adding Font Awesome to MVC 5 Projects">the work in the last post</a>, where I added Font Awesome to our Bootstrap-enabled MVC 5 web site. Let’s drop a model class for a movie in our project in the Models folder that looks like this:</p>
<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Movie
{
    <span class="kwrd">public</span> <span class="kwrd">int</span> MovieId { get; set; }
    <span class="kwrd">public</span> <span class="kwrd">string</span> Title { get; set; }
    [UIHint(<span class="str">"StarRating"</span>)]
    <span class="kwrd">public</span> <span class="kwrd">int</span> Rating { get; set; }
}</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Next, let’s update the HomeController to have the following actions:
<pre class="csharpcode"><span class="kwrd">public</span> ActionResult Index()
{
    var movie = <span class="kwrd">new</span> Movie
    {
        Title = <span class="str">"The Last Starfighter"</span>, 
        Rating = 4
    };
    <span class="kwrd">return</span> View(movie);
}

[HttpPost]
<span class="kwrd">public</span> ActionResult Index(Movie movie)
{
    <span class="kwrd">return</span> View(<span class="str">"Index"</span>, movie);
}</pre>

<p>Nothing too fancy here, just a GET and POST action for Index requests. The GET populates (simulates) someone navigating to an item that they can rate. The POST allows you to set a breakpoint so that you can inspect the movie result when you submit.</p>
<p>Finally, scaffold a view for Index. <strong>First</strong>, delete the Index.cshtml from the Views/Home folder in your project. <strong>Next</strong>, right-click on one of the the Index methods above and select Add View, then choose the Edit template (don’t create a partial view here) and let it build the page for you.&nbsp; <strong>Finally</strong>, run your project to see what you get; it should look like this:</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/09/image.png" alt="image" title="image"></p>
<p>That’s okay, but, here’s what we want to see:</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/09/image1.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/09/image_thumb.png" alt="image" title="image"></a></p>
<h2 id="Getting_Stylish"><a href="#Getting_Stylish" class="headerlink" title="Getting Stylish"></a>Getting Stylish</h2><p>So, believe it or not, those are just radio buttons! There’s a couple of things we do to make it come together, including the use of a container DIV, but it’s mostly straightforward. Let’s look at the basic HTML structure that makes this tick.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”rating”</span><span class="kwrd">&gt;</span><br>  <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">id</span><span class="kwrd">=”star5-Rating”</span> <span class="attr">name</span><span class="kwrd">=”Rating”</span> <span class="attr">value</span><span class="kwrd">=”5”</span><span class="kwrd">&gt;</span><br>  <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star5-Rating”</span> <span class="attr">title</span><span class="kwrd">=”Best”</span><span class="kwrd">&gt;</span>5 stars<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span></pre></p>
<p>  <span class="rem">&lt;!– …more like these… –&gt;</span></p>
<p>  <span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">id</span><span class="kwrd">=”star1-Rating”</span> <span class="attr">name</span><span class="kwrd">=”Rating”</span> <span class="attr">value</span><span class="kwrd">=”1”</span><span class="kwrd">&gt;</span><br>  <span class="kwrd">&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star1-Rating”</span> <span class="attr">title</span><span class="kwrd">=”Pretty Bad”</span><span class="kwrd">&gt;</span>1 star<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>The container holds a collection of inputs and labels. These elements are attributed as you’d expect, but are inserted in the document in <em>reverse order</em> so that “5 stars” is at the top and “1 star” is at the bottom. This has to do with CSS bits, which we’ll come to in a minute.</p>
<h2 id="Oh_u2026here_we_are_2C_the_CSS_bits_21"><a href="#Oh_u2026here_we_are_2C_the_CSS_bits_21" class="headerlink" title="Oh…here we are, the CSS bits!"></a>Oh…here we are, the CSS bits!</h2><p>Right, so we start by setting up the container and getting our input off-screen. </p>
<p><pre class="csharpcode">.rating {<br>    float:left;<br>}</pre></p>
<p>.rating:not(:checked) <span class="kwrd">&gt;</span> input {<br>    position:absolute;<br>    top:-9999px;<br>    clip:rect(0,0,0,0);<br>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>This works okay because if a user taps, clicks or selects a label with a screen reader, the input is still appropriately checked. Next, we wire up the label.</p>
<p><pre class="csharpcode">.rating:not(:checked) <span class="kwrd">&gt;</span> label {<br>    float:right;<br>    width:1em;<br>    padding:0 .1em;<br>    overflow:hidden;<br>    white-space:nowrap;<br>    cursor:pointer;<br>    font-size:3em;<br>    line-height:1.2;<br>    color:#e0e0e0;<br>}</pre></p>
<p>.rating:not(:checked) <span class="kwrd">&gt;</span> label:before {<br>    font-family: FontAwesome;<br>    content: “\f005”;<br>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>These two styles push the label off-screen and setup the fixings for our star, including the insert of the character from Font Awesome. </p>
<p>We float these to the right so that we correct our order; remember that we inserted the stars in reverse order in our HTML, here we use CSS to correct that. This workaround is needed for the foreseeable future as we do not have CSS selectors to help us resolve things “before” our element, only after. By putting rating 1 <em>after</em> rating 3, we can select 3, 2 and 1 with various combinations of selectors; however, there is no mechanism allowing us to select the other way, i.e., “before”.&nbsp; (The before psuedo-selector allows us to insert content, but not apply style transformations.)</p>
<p>Finally, we handle the color states with various combinations to handle selected stars, stars that were previously selected and stars that are hovered (but not yet selected).</p>
<p><pre class="csharpcode">.rating <span class="kwrd">&gt;</span> input:checked ~ label {<br>    color: #fa0;<br>}</pre></p>
<p>.rating:not(:checked) <span class="kwrd">&gt;</span> label:hover,<br>.rating:not(:checked) <span class="kwrd">&gt;</span> label:hover ~ label {<br>    color: #fe0;<br>}</p>
<p>.rating <span class="kwrd">&gt;</span> input:checked + label:hover,<br>.rating <span class="kwrd">&gt;</span> input:checked + label:hover ~ label,<br>.rating <span class="kwrd">&gt;</span> input:checked ~ label:hover,<br>.rating <span class="kwrd">&gt;</span> input:checked ~ label:hover ~ label,<br>.rating <span class="kwrd">&gt;</span> label:hover ~ input:checked ~ label {<br>    color: #ea0;<br>}</p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>It may seem like there’s a lot of action going on in that code, but it’s required. The &gt;, +, ~ and : selectors in there allow us to be very specific about which elements <em>in which state</em> require coloring.</p>
<p>Add all of those CSS bits to your Site.css file (in the Content folder) and your styles will be in place. All that’s left to do now is to take that rough-in of HTML we did before and turn it into something the MVC Framework can use.</p>
<h2 id="Bringing_Some_MVC_to_the_Equation"><a href="#Bringing_Some_MVC_to_the_Equation" class="headerlink" title="Bringing Some MVC to the Equation"></a>Bringing Some MVC to the Equation</h2><p>You’ll have noticed the attribute UIHint decorating our Rating property on the Movie model class that we created in the first step. That was no accident! Now, let’s get that working for us by creating a reusable partial view in our project. Add a file called StarRating.cshtml to the Views\Shared\EditorTemplates folder. By convention, this is the folder that the MVC Framework checks for custom views used to render properties or models (you can see another <a href="http://jameschambers.com/2014/06/day-7-semi-automatic-bootstrap-display-templates/" title="make checkboxes better with Bootstrap and the MVC Framework">sample here from my Bootstrap series</a>). </p>
<p>The StarRating.cshtml should look like this:</p>
<p><pre class="csharpcode">@model int</pre></p>
<p>@{<br>    var chk = “checked”;<br>    var checked1 = Model == 1 ? chk : null;<br>    var checked2 = Model == 2 ? chk : null;<br>    var checked3 = Model == 3 ? chk : null;<br>    var checked4 = Model == 4 ? chk : null;<br>    var checked5 = Model == 5 ? chk : null;<br>    var htmlField = ViewData.TemplateInfo.HtmlFieldPrefix;<br>}</p>
<p><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”rating”</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">checked</span><span class="kwrd">=”@checked5”</span> <span class="attr">id</span><span class="kwrd">=”star5-@htmlField”</span> <span class="attr">name</span><span class="kwrd">=”@htmlField”</span> <span class="attr">value</span><span class="kwrd">=”5”</span> <span class="kwrd">/&gt;&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star5-@htmlField”</span> <span class="attr">title</span><span class="kwrd">=”Best”</span><span class="kwrd">&gt;</span>5 stars<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">checked</span><span class="kwrd">=”@checked4”</span> <span class="attr">id</span><span class="kwrd">=”star4-@htmlField”</span> <span class="attr">name</span><span class="kwrd">=”@htmlField”</span> <span class="attr">value</span><span class="kwrd">=”4”</span> <span class="kwrd">/&gt;&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star4-@htmlField”</span> <span class="attr">title</span><span class="kwrd">=”Good”</span><span class="kwrd">&gt;</span>4 stars<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">checked</span><span class="kwrd">=”@checked3”</span> <span class="attr">id</span><span class="kwrd">=”star3-@htmlField”</span> <span class="attr">name</span><span class="kwrd">=”@htmlField”</span> <span class="attr">value</span><span class="kwrd">=”3”</span> <span class="kwrd">/&gt;&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star3-@htmlField”</span> <span class="attr">title</span><span class="kwrd">=”Average”</span><span class="kwrd">&gt;</span>3 stars<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">checked</span><span class="kwrd">=”@checked2”</span> <span class="attr">id</span><span class="kwrd">=”star2-@htmlField”</span> <span class="attr">name</span><span class="kwrd">=”@htmlField”</span> <span class="attr">value</span><span class="kwrd">=”2”</span> <span class="kwrd">/&gt;&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star2-@htmlField”</span> <span class="attr">title</span><span class="kwrd">=”Not Great”</span><span class="kwrd">&gt;</span>2 stars<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”radio”</span> <span class="attr">checked</span><span class="kwrd">=”@checked1”</span> <span class="attr">id</span><span class="kwrd">=”star1-@htmlField”</span> <span class="attr">name</span><span class="kwrd">=”@htmlField”</span> <span class="attr">value</span><span class="kwrd">=”1”</span> <span class="kwrd">/&gt;&lt;</span><span class="html">label</span> <span class="attr">for</span><span class="kwrd">=”star1-@htmlField”</span> <span class="attr">title</span><span class="kwrd">=”Pretty Bad”</span><span class="kwrd">&gt;</span>1 star<span class="kwrd">&lt;/</span><span class="html">label</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Here’s a breakdown of the interesting bits that make this work:</p>
<ul>
<li>The model is of type int, allowing it to be rendered for properties of the same type.</li>
<li>There is the use of nullable attributes in play, set up with the check against the model so that we can correctly render <em>which</em> star is to be selected. This is important when our model already has a value.</li>
<li>The radio buttons are ordered in reverse and take their name from the ViewData.TemplateInfo.HtmlFieldPrefix value.*   We use an ID on each star, and a label that is related back to that input. This allows selection via the label (you should always use this!)</li>
</ul>
<p>Viola! With the CSS from above in place, the custom editor template saved and the UIHint on your Movie model class, your page will now be rendered with a star rating control for your movie.</p>
<p>Set a breakpoint in your POST action of your controller. If you submit your form while debugging, you will see that the value you have selected is indeed bound to the property of the Movie class. Huzzah!</p>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h2><p>I have leaned on many star rating controls over the last decade, but have come back to variants of this one (<a href="http://lea.verou.me/2011/08/accessible-star-rating-widget-with-pure-css/" target="_blank" rel="external">based on this work</a> from <a href="https://twitter.com/leaverou" target="_blank" rel="external">@Lea Verou</a>) for the last two or three years now. I would like to stress that I haven’t yet found a <em>perfect</em> control (this one, for example works well with up/down arrows, but not left/right) and I am sure this version won’t work for all people in all scenarios. Also, the idea for this example came from the <a href="http://fontawesome.io/examples/" title="Font Awesome Examples" target="_blank" rel="external">Font Awesome site</a>, but the astute reader would soon realize why the basic example on their site would not be a good candidate for MVC (primarily because of the lack of structure to accommodate multiple controls on the same page).</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>If you’ve built the sample along with the article, you’ll likely have had at least a few ideas on how you can create reusable controls for your project. Be sure to check out my <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Bootstrap series</a> or purchase <a href="https://leanpub.com/bootstrappingmvc" target="_blank" rel="external">a copy of my book</a> for more examples like this, and happy coding!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/09/using-font-awesome-in-an-accessible-bindable-star-rating-control/" data-id="cijrdvwpt002qxgyyb6s5bcbv" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/09/using-font-awesome-in-an-accessible-bindable-star-rating-control/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bootstrap/">Bootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-adding-some-font-awesome-to-mvc-and-bootstrap" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/adding-some-font-awesome-to-mvc-and-bootstrap/">Adding Some (Font) Awesome to MVC and Bootstrap</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/08/adding-some-font-awesome-to-mvc-and-bootstrap/">
      <time datetime="2014-08-25T03:19:26.000Z" itemprop="datePublished">2014-08-24</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>While Bootstrap includes many great icons from <strong>Glyphicons</strong> baked right in, I’m often left looking for <em>That One Missing Graphic</em> when I try to put a project together. In this post we’ll look at the open source <strong>Font Awesome</strong> collection of images that serve as a wonderful addition to your site in the form of a font and CSS toolkit.</p>
<p><em><a href="http://jameschambers.com/bootstrapping-mvc/">See more tips, tricks and tutorials like this in my book, Bootstrapping MVC.</a></em></p>
<p><strong>Just a quick note</strong>: If you already know what Font Awesome is and just want my advice on how to add it to your project via NuGet, skip to the end of the post. If you want more background on what Font Awesome is and why you might want to use it, grab a coffee and have a read!</p>
<h2 id="A_Bit_About_Font_Awesome"><a href="#A_Bit_About_Font_Awesome" class="headerlink" title="A Bit About Font Awesome"></a>A Bit About Font Awesome</h2><p><img src="https://jcblogimages.blob.core.windows.net/img/2014/08/image.png" alt="A Picture of a Heart Icon" title="Heart">Font Awesome is a font and CSS toolkit that was created by Dave Gandy, originally designed to be a compliment to the Bootstrap library. There is no JavaScript component to it and it does not add any new behaviors to your site, but it does have some great-looking, scalable icons that you’ll likely love.&nbsp; See what I did there, with the heart? <img src="https://jcblogimages.blob.core.windows.net/img/2014/08/wlEmoticon-winkingsmile.png" alt="Winking smile"></p>
<p>There are two core elements to using the library: the font files themselves and the CSS classes that wire things up for use on your site. With the library in place, you can get the above heart icon to appear simply by adding the following syntax:</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">i</span> <span class="attr">class</span><span class="kwrd">="fa fa-heart"</span><span class="kwrd">&gt;&lt;/</span><span class="html">i</span><span class="kwrd">&gt;</span></pre>

<p>Because it’s implemented as a scalable vector-based font, rather than raster images, the icons look great on any screen type and at any size. You get the base styling, margins, sizing and the like by attributing the &lt;I&gt; element with the fa class, then select your icon by name. There are CSS classes for creating variant sizes (twice as large):</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">i</span> <span class="attr">class</span><span class="kwrd">=”fa fa-camera-retro fa-2x”</span><span class="kwrd">&gt;&lt;/</span><span class="html">i</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>…adding spinner effects (here, a spinning cog):</p>
<p><pre class="csharpcode">&lt;i <span class="kwrd">class</span>=<span class="str">“fa fa-cog fa-spin”</span>&gt;&lt;/i&gt;</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>…or stacking images together to make composite icons, like a flag on a circle:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”fa-stack fa-lg”</span><span class="kwrd">&gt;</span><br>  <span class="kwrd">&lt;</span><span class="html">i</span> <span class="attr">class</span><span class="kwrd">=”fa fa-circle fa-stack-2x”</span><span class="kwrd">&gt;&lt;/</span><span class="html">i</span><span class="kwrd">&gt;</span><br>  <span class="kwrd">&lt;</span><span class="html">i</span> <span class="attr">class</span><span class="kwrd">=”fa fa-flag fa-stack-1x fa-inverse”</span><span class="kwrd">&gt;&lt;/</span><span class="html">i</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>…as well as other options, like rotating and flipping, adding borders and pulling the icons to the left or right. You can find the complete source on the <a href="http://fortawesome.github.io/Font-Awesome/examples/" target="_blank" rel="external">Font Awesome examples page</a>.</p>
<p>While these display classes are all built to work with Bootstrap natively, the CSS for Font Awesome also includes everything it needs class-wise (such as pull-left) to work independently of Bootstrap.</p>
<p>The icons tend to be aptly named and terse, so you’re not typing a metric tonne of code. I’m using Visual Studio 2013 and working with the library is a breeze because of the automatic syntax completion offered through IntelliSense.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/08/image1.png" alt="HTML Code: &lt;i class=&quot;fa fa-heart&quot;&gt;&lt;/i&gt;" title="Intellisense sample"></p>
<p>If you download the ZIP from the <a href="http://fontawesome.io" target="_blank" rel="external">Font Awesome</a> site, you’ll get the CSS (and minified version), the font files for multi-platform and multi-browser support as well as the LESS and SCSS files to customize things should you so need.</p>
<h2 id="A_Note_on_Accessibility"><a href="#A_Note_on_Accessibility" class="headerlink" title="A Note on Accessibility"></a>A Note on Accessibility</h2><p>Though the icons and images of Font Awesome are indeed implemented as a font, it’s not like wingdings or anything where a letter becomes repurposed. The author elected to use the standards-based Private Use Area mapping from Unicode, meaning screen readers for accessibility will ignore the characters of the font and not attempt to read random characters off.</p>
<h2 id="The_Naked__u201CInstallation_u201D"><a href="#The_Naked__u201CInstallation_u201D" class="headerlink" title="The Naked “Installation”"></a>The Naked “Installation”</h2><p>From the docs on the site, the easiest way to start using Font Awesome is just to use the CDN version of the toolkit.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">href</span><span class="kwrd">=”//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css”</span> <span class="attr">rel</span><span class="kwrd">=”stylesheet”</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Using the CDN version may help improve load times, especially when your users are spread out over multiple geographic regions. Not all corporate policies allow for public CDN use for in-house projects, however, so you still have the option to download and use Font Awesome as an asset in your deployment.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/08/image2.png" alt="Solution structure for typical installation of Font Awesome" title="Solution structure for typical installation of Font Awesome">If you do download the ZIP, you’ll need to execute a couple of familiar and straightforward tasks to use the toolkit:</p>
<ul>
<li>Copy the CSS and Fonts folder into your project, likely under the Content folder</li>
<li>Add a new bundle to your site and include the CSS in your _Layout (or modify an existing, in-use bundle to include the CSS).</li>
</ul>
<p>The only thing to watch for is that you’re going to need to honor the relative path structure of the CSS and Fonts to avoid any rendering problems. The CSS assumes the fonts are in a folder called Fonts at the same level in the path.</p>
<h2 id="Using_a_NuGet_Package"><a href="#Using_a_NuGet_Package" class="headerlink" title="Using a NuGet Package"></a>Using a NuGet Package</h2><p>There’s always an easier way to do it, and usually the way to do that with .NET is going to involve a little bit of NuGet.</p>
<p>I found no fewer than half a dozen packages on NuGet for Font Awesome. While they all seem to list Mr. Gandy as the author, none of them appear to be officially part of the project. So, for better or for worse, there’s no officially sanctioned project here. Just the same, the packages are there if you want to use them and I have my opinions on them. <img src="https://jcblogimages.blob.core.windows.net/img/2014/08/wlEmoticon-smile.png" alt="Smile"></p>
<p>The package I recommend is <a href="https://www.nuget.org/packages/FontAwesome.MVC/" target="_blank" rel="external">FontAwesome.MVC</a> by JiveCode aka <a href="https://github.com/JustLikeIcarus" target="_blank" rel="external">JustLikeIcarus</a>. This package takes a dependency on his Font Awesome package containing the CSS and fonts, then it adds a class (FontAwesomeBundleConfig) that registers a style bundle for you. </p>
<p>All that’s left to do is to modify your _Layout, adding the following line of code to your HEAD:</p>
<p><pre class="csharpcode">@Styles.Render(<span class="str">“~/Content/fontawesome”</span>)</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>There are other packages that use Font Awesome and try to augment MVC giving your Razor helper methods, but I’ve got mixed feelings on this approach. A Razor helper that requires me to type more code and allows me to know less about the CSS I’m using doesn’t feel quite right. With IntelliSense support for CSS in VS, I’m not sure I see the need for Razor helpers, and I really like learning the classes I’m using. </p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>With a groovy new set of icons now available to my site, my next post will be on leveraging those to create something interesting with the MVC Framework.</p>
<p><em>Like this post? You can <a href="http://jameschambers.com/bootstrapping-mvc/">see more tips, tricks and tutorials </a><br>__like this in my book, Bootstrapping MVC.</em></p>
<p>Happy coding! <img src="https://jcblogimages.blob.core.windows.net/img/2014/08/wlEmoticon-smile.png" alt="Smile"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/08/adding-some-font-awesome-to-mvc-and-bootstrap/" data-id="cijrdvx6z00q2xgyyvar4hkqz" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/08/adding-some-font-awesome-to-mvc-and-bootstrap/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bootstrap/">Bootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FontAwesome/">FontAwesome</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-30-days-of-bootstrap-and-asp-net-mvc-5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/30-days-of-bootstrap-and-asp-net-mvc-5/">30 Days of Bootstrap and Asp.Net MVC 5</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/08/30-days-of-bootstrap-and-asp-net-mvc-5/">
      <time datetime="2014-08-14T02:41:00.000Z" itemprop="datePublished">2014-08-13</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>## </p>
<h2 id="Source_Code_and_Book_Now_Available"><a href="#Source_Code_and_Book_Now_Available" class="headerlink" title="Source Code and Book Now Available"></a>Source Code and Book Now Available</h2><p>I had many requests through my recent series on <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Bootstrapping MVC</a> to post the completed source code for the project that I created, and I’m happy to share that now. </p>
<blockquote>
<p><a href="https://github.com/MisterJames/BootstrappingMvc-Code" target="_blank" rel="external">View the Completed Project on GitHub</a> </p>
</blockquote>
<p>I will note that this is how the project is <em>at the end of the series</em> and things do change. Some of the days later on in the exercises are refactorings over the earlier work.</p>
<h2 id="Getting_All_the_Code_2C_Day-by-Day_+_Bonuses"><a href="#Getting_All_the_Code_2C_Day-by-Day_+_Bonuses" class="headerlink" title="Getting All the Code, Day-by-Day + Bonuses"></a>Getting All the Code, Day-by-Day + Bonuses</h2><p>I took things further, however, and I’ve edited the series into both an eBook and a print version. Included with either is access to the repository with complete day-by-day branches so that you can work on any aspect of the project, play around, make changes or customizations and then just move to a different chapter. </p>
<iframe style="float: right" height="400" src="https://leanpub.com/bootstrappingmvc/embed" frameborder="0" width="160" allowtransparency=""></iframe> 

<p>Can’t get past a certain issue with your syntax or markup? Do a diff against my work and see what got away. Each chapter branch contains the completed, working code for that chapter. You can use the previous chapter’s branch to start work as you follow along from anywhere in the book.</p>
<p>As well, for any of my blog readers (yes, that’s you!) I’m also offering the book at a deeply discounted price of $6.99 (from a suggested $24.99) for the first 50 folks who snatch up the offer!</p>
<blockquote>
<p>Get <strong>Bootstrapping MVC</strong> for the discounted price of $6.99 with this coupon: <a href="http://leanpub.com/bootstrappingmvc/c/readblogsFTW" title="http://leanpub.com/bootstrappingmvc/c/readblogsFTW" target="_blank" rel="external">http://leanpub.com/bootstrappingmvc/c/readblogsFTW</a> </p>
</blockquote>
<p>For those of us (me included) who still like killing trees and having a paper copy next to the keyboard, I’ve also got a print version available of the book which would make a great addition to any web developer’s library.</p>
<iframe style="height: 240px; width: 120px; float: right" marginheight="0" src="http://rcm-na.amazon-adsystem.com/e/cm?t=chasthelist-20&amp;o=15&amp;p=8&amp;l=as1&amp;asins=B00MP73S1E&amp;ref=qf_sp_asin_til&amp;fc1=000000&amp;IS2=1&amp;lt1=_blank&amp;m=amazon&amp;lc1=0000FF&amp;bc1=000000&amp;bg1=FFFFFF&amp;f=ifr" frameborder="0" marginwidth="0" scrolling="no"></iframe>

<p>Buy the paperback edition here: <a href="http://www.lulu.com/shop/james-chambers/bootstrapping-mvc/paperback/product-21757965.html" title="http://www.lulu.com/shop/james-chambers/bootstrapping-mvc/paperback/product-21757965.html" target="_blank" rel="external">http://www.lulu.com/shop/james-chambers/bootstrapping-mvc/paperback/product-21757965.html</a></p>
<p>Finally, for the Kindle readers out there, you can also pick up a copy of the book on Amazon!</p>
<p>Enjoy the book and code, and happy coding!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/08/30-days-of-bootstrap-and-asp-net-mvc-5/" data-id="cijrdvx7k00qyxgyy3uz38u8j" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/08/30-days-of-bootstrap-and-asp-net-mvc-5/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-30-loading-bootstrap-modal-content-via-ajax" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/day-30-loading-bootstrap-modal-content-via-ajax/">Day 30: Loading Bootstrap Modal Content via AJAX</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/07/day-30-loading-bootstrap-modal-content-via-ajax/">
      <time datetime="2014-07-20T10:58:00.000Z" itemprop="datePublished">2014-07-20</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is <strong>the final</strong> installment in a 30 day series on Bootstrap and the MVC Framework. To see the rest of the series be sure to check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>. I hope you have enjoyed following along! <img src="https://jcblogimages.blob.core.windows.net/img/2014/07/wlEmoticon-smile1.png" alt="Smile"></p>
<p>Here in our last post in the series we’re going to revisit our modal dialog confirmation box that pops up when a user tries to delete a record. At this point, regardless of the notification selected for delete, the user will see the same static dialog.</p>
<h2 id="Loading_Remote_Content_With_Bootstrap_u2019s_Modal"><a href="#Loading_Remote_Content_With_Bootstrap_u2019s_Modal" class="headerlink" title="Loading Remote Content With Bootstrap’s Modal"></a>Loading Remote Content With Bootstrap’s Modal</h2><p>There is built-in support for Bootstrap to load content into a modal, but there are some limitations. First, Bootstrap loads the content the first time the constructor is called on the modal. Secondly, the modal’s constructor is only ever called once, meaning, you can’t refresh the content without some extra script.</p>
<p>Rather than trying to put a square peg in a round hole, we can take the simpler approach of just loading the content with jQuery. After all, it’s clean, easy to understand, and at the end of the day the modal is just HTML.</p>
<p>This approach will work better for us for the following use case:</p>
<ul>
<li>User selects to delete a notification</li>
<li>They cancel out of the dialog</li>
<li>The select a different notification to delete </li>
</ul>
<p>At this point, the remote loading capabilities of Bootstrap’s modal break down and we’d have to get into hacky stuff that may not survive a minor version upgrade. Pass! In my opinion, the modal should have an overload that accepts a ‘remote url’ parameter.</p>
<p>If, however, you have a use case that doesn’t involve refreshing the dialog, I encourage you to check out <a href="http://getbootstrap.com/javascript/#modals-usage" target="_blank" rel="external">the docs</a> for using the built-in functionality.</p>
<h2 id="Improving_our_Delete_Confirmation"><a href="#Improving_our_Delete_Confirmation" class="headerlink" title="Improving our Delete Confirmation"></a>Improving our Delete Confirmation</h2><p>Rather than just giving a generic message, we’re going to instead load some content via AJAX. This will give us a chance to put a visual preview of the data that will be deleted in front of the user.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image14.png" alt="image" title="image"></p>
<p>To accomplish this we’re going to need to make small change to our modal markup (in Views\Account_RenderNotifications.Modal.cshtml), as follows:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”modal-body”</span> <span class="attr">id</span><span class="kwrd">=”notificationPreview”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>Loading content…<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>What I’ve done here is removed the content from the modal-body section of the markup and replaced it with a loading message.&nbsp; I’ve also given the DIV an ID so that we can address it from JavaScript more directly.&nbsp; Also, revisit your Views\Account_RenderNotifications.js.cshtml and update the confirmDelete method, as we’re now going to clear the contents and load the text dynamically.</p>
<p><pre class="csharpcode"><span class="kwrd">function</span> confirmDelete(id) {<br>    currentNotificationId = id;<br>    previewContainer.html(<span class="str">‘&lt;p&gt;Loading content…&lt;/p&gt;’</span>);<br>    previewContainer.load(confirmUrl, { id: currentNotificationId });<br>    $(<span class="str">‘#deleteConfirmModal’</span>).modal(<span class="str">‘show’</span>);<br>}</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>To pull that all together we need a couple more variable declarations at the top of the script. Here’s my final list of vars:</p>
<p><pre class="csharpcode"><span class="kwrd">var</span> readUrl = <span class="str">‘@Url.Action(“MarkNotificationAsRead”)’</span>;<br><span class="kwrd">var</span> deleteUrl = <span class="str">‘@Url.Action(“Delete”)’</span>;<br><span class="kwrd">var</span> confirmUrl = <span class="str">‘@Url.Action(“GetNotification”)’</span>;<br><span class="kwrd">var</span> previewContainer = $(<span class="str">‘#deleteConfirmModal #notificationPreview’</span>);<br><span class="kwrd">var</span> currentNotificationId;</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>You’ll notice that I have added a confirm URL and captured the element (in previewContainer) that we are using for the confirm. This saves me from having to requery the DOM on each display of the dialog.</p>
<h2 id="Adding_the_Controller_Action"><a href="#Adding_the_Controller_Action" class="headerlink" title="Adding the Controller Action"></a>Adding the Controller Action</h2><p>We’re going to use that same pattern for loading up the notification for the confirmation that we used for modifying and deleting. Let’s add a GetNotification method to our AccountController that has the following code:</p>
<p><pre class="csharpcode"><span class="kwrd">public</span> ActionResult GetNotification(<span class="kwrd">int</span> id)<br>{<br>    var userNotification = GetUserNotifications().FirstOrDefault(n =&gt; n.NotificationId == id);</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;if&lt;/span&gt; (userNotification == &lt;span class=&quot;kwrd&quot;&gt;null&lt;/span&gt;)
{
    &lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;new&lt;/span&gt; HttpNotFoundResult();
}

&lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; PartialView(&lt;span class=&quot;str&quot;&gt;&quot;_RenderNotifications.ModalPreview&quot;&lt;/span&gt;, userNotification);
</code></pre><p>}<br></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>This time, we’ll be returning a partial view, as indicated in the code above, that will help us render the relevant content for the user to make their choice.</p>
<p>But hey…that code to load a single notification for the logged in user is <em>crying</em> for some refactoring, am I right?</p>
<h2 id="Adding_the_Partial_View"><a href="#Adding_the_Partial_View" class="headerlink" title="Adding the Partial View"></a>Adding the Partial View</h2><p>The controller is wired to pass the single notification to a partial view, which will essentially have the same information we had in the content section of the modal markup, but now we’ll also render in some notification-specific information. You can use your imagination on how this could be further extended with more complex objects in your own project.</p>
<p>Here are the contents of _RenderNotifications.ModalPreview.cshtml, which you should put into Views\Account:</p>
<p><pre class="csharpcode">@model SimpleSite.Models.Notification</pre></p>
<p><span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>You have selected to delete this notification.<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”panel panel-warning”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”panel-heading”</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">h4</span><span class="kwrd">&gt;</span>@Model.Title<span class="kwrd">&lt;/</span><span class="html">h4</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”panel-body”</span><span class="kwrd">&gt;</span><br>            If this was the action that you wanted to do,<br>            please confirm your choice, or cancel and return<br>            to the page.<br>        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Wow! Thirty days of Bootstrap and MVC! It’s been a long 30 days…50 days actually, but no one could have foreseen the passing of my Grandma, my three-day fever of 103 degrees or the fact that this would end up running into my vacation for my 14th wedding anniversary and <em>a most excellent trip</em> to Seattle with my high school sweetheart (to whom I am married).</p>
<p>I have a few more things to add to this series, but for now we’ll call it a wrap. Thanks for your questions, suggestions, feedback and comments along the way!</p>
<p>Happy coding! <img src="https://jcblogimages.blob.core.windows.net/img/2014/07/wlEmoticon-smile1.png" alt="Smile"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/07/day-30-loading-bootstrap-modal-content-via-ajax/" data-id="cijrdvx0j00hpxgyydjd7auaj" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/07/day-30-loading-bootstrap-modal-content-via-ajax/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-29-confirmation-dialogs-for-delete-actions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/day-29-confirmation-dialogs-for-delete-actions/">Day 29: Confirmation Dialogs for Delete Actions</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/07/day-29-confirmation-dialogs-for-delete-actions/">
      <time datetime="2014-07-20T03:57:00.000Z" itemprop="datePublished">2014-07-19</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>We just gave our users the ability to delete a record from the database in <a href="http://jameschambers.com/2014/07/day-28-doing-more-interesting-things-with-buttons/">Day 28</a>, but a single click does the deed without confirmation. It would likely be better to at least give them a little prompt to confirm that this is what they were trying to do in the first place.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image11.png" alt="image" title="image"></p>
<p>Let’s first talk about how dialogs are composed and how to display them in a page.</p>
<h2 id="Bootstrap_Modal_Dialogs"><a href="#Bootstrap_Modal_Dialogs" class="headerlink" title="Bootstrap Modal Dialogs"></a>Bootstrap Modal Dialogs</h2><p>Modals are made up of a wrapper, an outer and inner container and three common sections that provide default styling and handle proper rendering: the header, the body and the footer. You can represent the basic structure of the modal as follows:</p>
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-dialog"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-content"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-header"</span><span class="kwrd">&gt;</span>...<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-body"</span><span class="kwrd">&gt;</span>...<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-footer"</span><span class="kwrd">&gt;</span>...<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

You can show a dialog by using a button with an attribute that Bootstrap is aware of:
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">class</span><span class="kwrd">="btn"</span> <span class="attr">data-toggle</span><span class="kwrd">="modal"</span> <span class="attr">data-target</span><span class="kwrd">="#theModal"</span><span class="kwrd">&gt;</span>
  Show my modal
<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Or you can invoke the modal by calling it from JavaScript:
<pre class="csharpcode">$(<span class="str">'#deleteConfirmModal'</span>).modal(<span class="str">'show'</span>);</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

For other events, defaults and other JavaScript method calls that are available, be sure to check out the docs on the [Bootstrap site](http://getbootstrap.com/javascript/#modals).

When using modals you’ll want as little interference as possible with the styles and layout of the elements being used, so the recommendation is to put the container for the modal as close to the root of the document structure as possible. 

One thing that I’ve run into when using the button approach is the need to have the CSS selector on the data-target attribute (see the code above). I’m not sure why this is the approach, but if you forget that you need the hashtag as a prefix to the ID, your modal won’t display. Regardless, we’re going to be using JavaScript to do our work today, but keep that tip in mind as you start working with this on&nbsp; your own.

## The Game Plan

For this exercise we’re going to hit a couple of areas of the project, so here’s a quick checklist if you want to follow along. We’re going to:

*   Clean up our JavaScript and put it in a separate file
*   Add an optionally rendered section to our _Layout page
*   Add a partial view for the markup needed for our dialog
*   Update the Manage view to include our new bits

## Some Cleanup, Some JavaScript

We’re going to start growing our client-side scripts on the view that renders notifications a little and one thing I like to do is to keep those bits organized. The JavaScript we have so far to give some UX for notifications is in our _RenderNotifications partial view, which presents some limitations as to when script can execute and whether or not jQuery has been loaded. 

One easy way to keep these things straight, and organized in our project, is to add a __**PartialViewName**_.js.cshtml file to our project in the same folder as our view. We can then consider the JavaScript related to the view as another asset that needs to be loaded on the full view.

So let’s do that. Add a new view to the Views\Account folder called _RenderNotificationsjs. If you use the scaffolding tools, you’ll notice that you can’t properly name it (it complains about invalid characters), so add it as I’ve shown, then rename it to _RenderNotifications.js.cshtml once the file is there.&nbsp; Next, remove the old JavaScript from the _RenderNotifications.cshtml and put it in the new .js.cshtml file.
<pre class="csharpcode">&lt;script type=<span class="str">"text/javascript"</span>&gt;

    <span class="kwrd">var</span> readUrl = <span class="str">'@Url.Action("MarkNotificationAsRead")'</span>;
    <span class="kwrd">var</span> deleteUrl = <span class="str">'@Url.Action("Delete")'</span>;
    <span class="kwrd">var</span> currentNotificationId;

    <span class="kwrd">function</span> updateNotification(id, action) {
        $(<span class="str">"#notificationFormItemId"</span>).val(id);
        <span class="kwrd">switch</span> (action) {
        <span class="kwrd">case</span> <span class="str">'read'</span>:
            $(<span class="str">"#notificationForm"</span>).attr(<span class="str">'action'</span>, readUrl).submit();
            <span class="kwrd">break</span>;
        <span class="kwrd">case</span> <span class="str">'delete'</span>:
            $(<span class="str">"#notificationForm"</span>).attr(<span class="str">'action'</span>, deleteUrl).submit();
            <span class="kwrd">break</span>;
        <span class="kwrd">default</span>:
            console.debug(<span class="str">'Unknown action '</span> + action);
        }
    }

    <span class="kwrd">function</span> confirmDelete(id) {
        currentNotificationId = id;
        $(<span class="str">'#deleteConfirmModal'</span>).modal(<span class="str">'show'</span>);
    }

    $(<span class="kwrd">function</span>() {
        $(<span class="str">"#deleteConfirmModal"</span>).on(<span class="str">'click'</span>, <span class="str">"#deleteConfirm"</span>, <span class="kwrd">function</span>() {
            updateNotification(currentNotificationId, <span class="str">'delete'</span>);
        });
    });

&lt;/script&gt;</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Remember that .cshtml gives us a little more power than just a straight .js file. We can do things like interact with the ViewBag or the page Model, write code that is parsed by Razor and make use of Html helper methods, all of which can be quite handy.

There’s not too much more going on here than there was before, except that now we capture the ID of the notification in our confirmDelete method, and we are wiring up a click handler for the modal dialog that we’re going to implement.

One final thing to do on our partial is to update the Delete button (the A tag) to call our new JavaScript method as follows:
<pre class="csharpcode">&lt;a href=<span class="str">"javascript:confirmDelete(@notification.NotificationId)"</span>&gt;Delete&lt;/a&gt;</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

## Rendering at the Root Using Optional Sections in our Layout

Remember the note about keeping the modal as close to the document root as possible? Well, there’s a problem there when we’re down at the view or partial view layer, stuck inside our other “main content” area of the page. We’re inside all these other containers already and we can’t break out without a little help from the MVC Framework.&nbsp; What we want to do is to add another optional section, much like the scripts section. We can call this topLevel for now, though you’d likely want it to be more meaningful in a real project.&nbsp; Add the following code to your _Layout file.
<pre class="csharpcode">@RenderSection(<span class="str">"topLevel"</span>, required: <span class="kwrd">false</span>)</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

It should appear right after the BODY tag, first thing in the document, like this.

![image](https://jcblogimages.blob.core.windows.net/img/2014/07/image12.png "image")

Now, whenever you have something that will be injected from a view into the page in this topLevel section, you will be able to put elements directly into the root of the document.

## Create the Modal Partial

Next up, we’re going to create a _RenderNotification.Modal.cshtml partial view that has the HTML for our modal in it. This will help to keep our core view simple, and keep our related files together in our project.&nbsp; The markup for the modal follows the same basic structure I highlighted above and adds a few other elements to the mix.
<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal fade"</span> <span class="attr">id</span><span class="kwrd">="deleteConfirmModal"</span> <span class="attr">tabindex</span><span class="kwrd">="-1"</span> <span class="attr">role</span><span class="kwrd">="dialog"</span> <span class="attr">aria-labelledby</span><span class="kwrd">="deleteLabel"</span> <span class="attr">aria-hidden</span><span class="kwrd">="true"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-dialog"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-content"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-header"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">h4</span> <span class="attr">class</span><span class="kwrd">="modal-title"</span> <span class="attr">id</span><span class="kwrd">="deleteLabel"</span><span class="kwrd">&gt;</span>Deleting a Notification<span class="kwrd">&lt;/</span><span class="html">h4</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-body"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>You have selected to delete this notification.<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>
                    If this was the action that you wanted to do,
                    please confirm your choice, or cancel and return
                    to the page.
                <span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="modal-footer"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">class</span><span class="kwrd">="btn btn-success"</span> <span class="attr">data-dismiss</span><span class="kwrd">="modal"</span><span class="kwrd">&gt;</span>Cancel<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">class</span><span class="kwrd">="btn btn-danger"</span> <span class="attr">id</span><span class="kwrd">="deleteConfirm"</span><span class="kwrd">&gt;</span>Delete Notification<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

There’s a class ‘fade’ in there that tells bootstrap to slide and fade the modal in from the top. There are a few ARIA attributes in there for accessibility.&nbsp; I’ve added a title to the header, content in the body and buttons to either dismiss the dialog (cancelling the delete) or to confirm the operation when the user elects to delete the notification.

Perhaps the most interesting bit in there is the data-dismiss attribute on the cancel button, which tells Bootstrap that this dialog can be hidden when the button is clicked.

## Updating Our View

Finally, we update our view, adding the modal to the page and including the JavaScript that we need to pull it all together.

At the bottom of Manage.cshtml in Views\Account we add the topLevel section to the view and in it we render the modal markup from the partial view we created. 
<pre class="csharpcode">@section topLevel{

    @{ Html.RenderPartial(<span class="str">"_RenderNotifications.Modal"</span>); }

}
</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

Immediately after that, we update our scripts section to include the JS we need and created above.
<pre class="csharpcode">@section Scripts { 

    @Scripts.Render(<span class="str">"~/bundles/jqueryval"</span>) 
    @{ Html.RenderPartial(<span class="str">"_RenderNotifications.js"</span>); }

}</pre>

<p>Because we’ve kept things fairly organized along the way, changes to our view are minimal but at the same time we’re able to improve the user experience a fair bit. We’ve added an easy way to get content into the root of our document and simplified our partial views. And look…</p>
<p><a href="https://jcblogimages.blob.core.windows.net/img/2014/07/image13.png" target="_blank" rel="external"><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image_thumb3.png" alt="image" title="image"></a></p>
<p>…we even managed to keep our related files in one place in the solution explorer.&nbsp; <style type="text/css">.csharpcode, .csharpcode pre<br>{<br>    font-size: small;<br>    color: black;<br>    font-family: consolas, “Courier New”, courier, monospace;<br>    background-color: #ffffff;<br>    /<em>white-space: pre;</em>/<br>}<br>.csharpcode pre { margin: 0em; }<br>.csharpcode .rem { color: #008000; }<br>.csharpcode .kwrd { color: #0000ff; }<br>.csharpcode .str { color: #006080; }<br>.csharpcode .op { color: #0000c0; }<br>.csharpcode .preproc { color: #cc6633; }<br>.csharpcode .asp { background-color: #ffff00; }<br>.csharpcode .html { color: #800000; }<br>.csharpcode .attr { color: #ff0000; }<br>.csharpcode .alt<br>{<br>    background-color: #f4f4f4;<br>    width: 100%;<br>    margin: 0em;<br>}<br>.csharpcode .lnum { color: #606060; }<br></style></p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Our delete is now protected by the dialog, but we’d like to give the user a better picture of what it is they are deleting from the database. Tomorrow, in our last post in the series, we’ll look at wiring up the dialog box to load contents via AJAX. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/07/day-29-confirmation-dialogs-for-delete-actions/" data-id="cijrdvx0z00i3xgyyz3dnbvdi" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/07/day-29-confirmation-dialogs-for-delete-actions/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-day-28-doing-more-interesting-things-with-buttons" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/day-28-doing-more-interesting-things-with-buttons/">Day 28: Doing More Interesting Things With Buttons</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2014/07/day-28-doing-more-interesting-things-with-buttons/">
      <time datetime="2014-07-19T03:25:00.000Z" itemprop="datePublished">2014-07-18</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Code-Dive/">Code Dive</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>This is an installment in a 30 day series on Bootstrap and the MVC Framework. To see more, check out <a href="http://jameschambers.com/2014/06/day-0-boothstrapping-mvc-for-the-next-30-days/">Day 0 for an index</a>.</p>
<p>Using the styling of Bootstrap or a replacement theme is a great way to make your site stand out, and buttons are a great example of making the UI more rich and friendly to users. They are likely the first thing you’d write some CSS for if you were starting from scratch on your site, so the tweaks and highlights they offer out-of-box are quite welcome.</p>
<h2 id="Basic_Buttons"><a href="#Basic_Buttons" class="headerlink" title="Basic Buttons"></a>Basic Buttons</h2><p>If you don’t style your buttons, they’re going to kinda suck. Well…it’s not that they won’t work or anything, but you will just get the boring old browser-styled version of a button.</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image6.png" alt="image" title="image"></p>
<p>And because each browser has it’s own default stylesheet, you can’t be guaranteed that any user will see the same font, layout or spacing. Thankfully, enforcing these attributes across clients is only an attribute away.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-primary btn-sm”</span><span class="kwrd">&gt;</span>A button<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success btn-sm”</span><span class="kwrd">&gt;</span>Another button<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>You’ll notice that I used the btn-sm class in the source above, there are large (btn-lg), regular (no class needed), small (btn-sm) and extra-small (btn-xs) to choose from. And now my buttons look like so, in every browser:</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image7.png" alt="image" title="image"></p>
<p>If I want them to be the same width, I can also use the grid system for sizing, dropping, say, a col-md-4 into the class attribute to get the following result:</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image8.png" alt="image" title="image"></p>
<h2 id="Grouping_Things_Together"><a href="#Grouping_Things_Together" class="headerlink" title="Grouping Things Together"></a>Grouping Things Together</h2><p>The buttons look better now, but they’re bumping up against each other. They’d look better still if they looked like they were part of the same control group. We can assemble buttons into groups by providing a touch more markup to the elements, as seen below, with a simple DIV wrapper.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”btn-group”</span><span class="kwrd">&gt;</span><br>    <span class="rem">&lt;!– buttons here –&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image9.png" alt="image" title="image"></p>
<p>I changed the text here because this is the code that I’ll be working into my partial for the notifications.&nbsp; I also made the buttons the same color – from a design stand point I think it looks better (and, heck, I’m even color blind) – and I removed the grid sizing on the buttons to allow them to group properly without having to add custom CSS styles. </p>
<h2 id="Putting_Some_Fancy_On"><a href="#Putting_Some_Fancy_On" class="headerlink" title="Putting Some Fancy On"></a>Putting Some Fancy On</h2><p>Chances are we could get away here with the two buttons side-by-each, but in the event that we need to add more actions the page is going to start to get a little wide. An improvement we can make here is to give the users a default action, but then to put the rest of the less-commonly accessed actions into a dropdown to look like this:</p>
<p><img src="https://jcblogimages.blob.core.windows.net/img/2014/07/image10.png" alt="image" title="image"></p>
<p>This is called a split button dropdown, where a clickable action is available and additional commands are tucked into the drop down. Rather than wrapping the buttons in just a DIV, we also introduce a caret for the dropdown and have a UL to act as a container for the non-visible actions.</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”btn-group”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success btn-sm”</span><span class="kwrd">&gt;</span>Mark as Read<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success btn-sm dropdown-toggle”</span> <span class="attr">data-toggle</span><span class="kwrd">=”dropdown”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”caret”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”sr-only”</span><span class="kwrd">&gt;</span>Toggle Dropdown<span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">class</span><span class="kwrd">=”dropdown-menu”</span> <span class="attr">role</span><span class="kwrd">=”menu”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Delete<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Send SMS<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Make cheese<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span> <span class="attr">class</span><span class="kwrd">=”divider”</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Baz<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span><br></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>I’ve added in the correct attributes on the caret button element – namely the data toggle – so that it plays properly with the framework. Per <a href="http://getbootstrap.com/getting-started/#accessibility" target="_blank" rel="external">the documentation</a>, I’ve also added an sr-only class that allows screen readers to make sense of the control grouping. The inner commands are now simply anchor tags and don’t require any of the button classes.</p>
<p>So, there all-of-a-sudden seems to be a lot going on there, but let’s break down the basic structure:</p>
<ul>
<li>A DIV to group everything together</li>
<li>A BUTTON for the main action</li>
<li>A BUTTON for the caret (dropdown)</li>
<li>A UL with a list of LIs for the additional commands.</li>
</ul>
<p>The skeleton looks like this:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”btn-group”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn”</span><span class="kwrd">&gt;</span>Primary Action<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn dropdown-toggle”</span> <span class="attr">data-toggle</span><span class="kwrd">=”dropdown”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”caret”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”sr-only”</span><span class="kwrd">&gt;</span>Toggle Dropdown<span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">class</span><span class="kwrd">=”dropdown-menu”</span> <span class="attr">role</span><span class="kwrd">=”menu”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>…<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>…<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>One final note: You would correctly assume, were you the assuming type, that the drop down functionality requires the JS library to work (which is already included in our web site bundle and layout).</p>
<h2 id="Updating_our_View"><a href="#Updating_our_View" class="headerlink" title="Updating our View"></a>Updating our View</h2><p>Now, forget what we’ve done so far in the TD for our actions. We’re going to change it up a bit and get things properly in line for some real-world action.</p>
<p>Since we’re going to be changing data we are going to want to do a POST back to the server, so we have the option of using the Html.BeginForm helper.&nbsp; But generating a series of forms representing all actions for all notifications could get complicated quite quickly (in other words, we don’t want a form for each action, for each notification). Instead, we need to decorate our split buttons with the appropriate IDs, then put together a bit of JavaScript to do the submit for us on a single, static form. The form contains a hidden input for the ID and will be at the end of the document in _RenderNotifications, followed by the related JavaScript:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">=”notificationForm”</span> <span class="attr">method</span><span class="kwrd">=”POST”</span><span class="kwrd">&gt;&lt;</span><span class="html">input</span> <span class="attr">type</span><span class="kwrd">=”hidden”</span> <span class="attr">name</span><span class="kwrd">=”id”</span> <span class="attr">id</span><span class="kwrd">=”notificationFormItemId”</span> <span class="kwrd">/&gt;&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span></pre></p>
<p><span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">type</span><span class="kwrd">=”text/javascript”</span><span class="kwrd">&gt;</span></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;var&lt;/span&gt; readUrl = &lt;span class=&quot;str&quot;&gt;&apos;@Url.Action(&quot;MarkNotificationAsRead&quot;)&apos;&lt;/span&gt;;
&lt;span class=&quot;kwrd&quot;&gt;var&lt;/span&gt; deleteUrl = &lt;span class=&quot;str&quot;&gt;&apos;@Url.Action(&quot;Delete&quot;)&apos;&lt;/span&gt;;

&lt;span class=&quot;kwrd&quot;&gt;function&lt;/span&gt; updateNotification(id, action) {
    $(&lt;span class=&quot;str&quot;&gt;&quot;#notificationFormItemId&quot;&lt;/span&gt;).val(id);
    &lt;span class=&quot;kwrd&quot;&gt;switch&lt;/span&gt; (action) {
        &lt;span class=&quot;kwrd&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;str&quot;&gt;&apos;read&apos;&lt;/span&gt;:
            $(&lt;span class=&quot;str&quot;&gt;&quot;#notificationForm&quot;&lt;/span&gt;).attr(&lt;span class=&quot;str&quot;&gt;&apos;action&apos;&lt;/span&gt;, readUrl).submit();
            &lt;span class=&quot;kwrd&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;kwrd&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;str&quot;&gt;&apos;delete&apos;&lt;/span&gt;:
            $(&lt;span class=&quot;str&quot;&gt;&quot;#notificationForm&quot;&lt;/span&gt;).attr(&lt;span class=&quot;str&quot;&gt;&apos;action&apos;&lt;/span&gt;, deleteUrl).submit();
            &lt;span class=&quot;kwrd&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;kwrd&quot;&gt;default&lt;/span&gt;:
            console.debug(&lt;span class=&quot;str&quot;&gt;&apos;Unknown action &apos;&lt;/span&gt; + action);
    }
}
</code></pre><p><span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Here we are using the URL helper method to resolve the URLs needed for read and delete actions.&nbsp; The JavaScript simply accepts the ID and an action parameter, then sets up the form correctly and submits it. </p>
<p>Next, skip back up the document a little to the TD that contains our split button. We’ll replace the entire contents of the TD with the following:</p>
<p><pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">=”btn-group”</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success btn-sm”</span> <span class="attr">href</span><span class="kwrd">=”javascript:updateNotification(@notification.NotificationId, ‘read’)”</span><span class="kwrd">&gt;</span>Mark as Read<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">=”button”</span> <span class="attr">class</span><span class="kwrd">=”btn btn-success btn-sm dropdown-toggle”</span> <span class="attr">data-toggle</span><span class="kwrd">=”dropdown”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”caret”</span><span class="kwrd">&gt;&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">=”sr-only”</span><span class="kwrd">&gt;</span>Toggle Dropdown<span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">class</span><span class="kwrd">=”dropdown-menu”</span> <span class="attr">role</span><span class="kwrd">=”menu”</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span><br>            <span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”javascript:updateNotification(@notification.NotificationId, ‘delete’)”</span><span class="kwrd">&gt;</span>Delete<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Send SMS<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Make cheese<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span> <span class="attr">class</span><span class="kwrd">=”divider”</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">=”#”</span><span class="kwrd">&gt;</span>Baz<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span><br>    <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span><br><span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span></pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>You’ll notice that our A tags are now just invoking our JavaScript method, passing in the notification ID of the current record (remember that we’re in that outer foreach loop here). We can continue to develop new methods by wiring up the A tag and extending the switch statement should we like.</p>
<h2 id="A_Couple_of_Controller_Methods"><a href="#A_Couple_of_Controller_Methods" class="headerlink" title="A Couple of Controller Methods"></a>A Couple of Controller Methods</h2><p>Finally we’re going to need to wire up our controller to catch those user actions and do the dirty bits. Marking the notification as viewed will be first. We’ll use the DB context to retrieve, update and save the selected record, so we’ll make a small change to the way we initiate the DB context and move it to a class-level declaration as such: </p>
<p><pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">readonly</span> SiteDataContext _context = <span class="kwrd">new</span> SiteDataContext();</pre></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Remember to remove the following line of code from the GetUserNotifications method and update all occurrences of context to _context (your code won’t compile if you don’t).</p>
<p><pre class="csharpcode">[HttpPost]<br><span class="kwrd">public</span> ActionResult MarkNotificationAsRead(<span class="kwrd">int</span> id)<br>{<br>    var userNotification = GetUserNotifications().FirstOrDefault(n=&gt;n.NotificationId == id);</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;if&lt;/span&gt; (userNotification == &lt;span class=&quot;kwrd&quot;&gt;null&lt;/span&gt;)
{
    &lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;new&lt;/span&gt; HttpNotFoundResult();
}

userNotification.IsDismissed = &lt;span class=&quot;kwrd&quot;&gt;true&lt;/span&gt;;
_context.SaveChanges();

&lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; RedirectToAction(&lt;span class=&quot;str&quot;&gt;&quot;Manage&quot;&lt;/span&gt;);
</code></pre><p>}<br></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>Similarly, the code for the delete action will use the same DB context to delete the requested record.</p>
<p><pre class="csharpcode">[HttpPost]<br><span class="kwrd">public</span> ActionResult Delete(<span class="kwrd">int</span> id)<br>{<br>    var userNotification = GetUserNotifications().FirstOrDefault(n =&gt; n.NotificationId == id);</pre></p>
<pre><code>&lt;span class=&quot;kwrd&quot;&gt;if&lt;/span&gt; (userNotification == &lt;span class=&quot;kwrd&quot;&gt;null&lt;/span&gt;)
{
    &lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kwrd&quot;&gt;new&lt;/span&gt; HttpNotFoundResult();
}

_context.Notifications.Remove(userNotification);
_context.SaveChanges();

&lt;span class=&quot;kwrd&quot;&gt;return&lt;/span&gt; RedirectToAction(&lt;span class=&quot;str&quot;&gt;&quot;Manage&quot;&lt;/span&gt;);
</code></pre><p>}<br></p>
<style type="text/css">.csharpcode, .csharpcode pre
{
    font-size: small;
    color: black;
    font-family: consolas, "Courier New", courier, monospace;
    background-color: #ffffff;
    /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
    background-color: #f4f4f4;
    width: 100%;
    margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>There are a couple of quick notes here that I should mention. From a security standpoint we’re doing some good things, namely, we’re using a common method to only load into scope the notifications of the currently logged in user. We’re leveraging the fact that the framework provides a mechanism to correctly provide the user’s identity and limiting the user’s request to only allow execution of modifying or deleting records in a “row-level” security kind of way. Our controller is marked with the Authorize attribute, so if we couple this with SSL we’d be in pretty good shape.</p>
<p>Then there’s the bits that aren’t really good practice, but are good enough for the point of this exercise. First, we’ve got this GetUserNotifications method on the AccountController class.&nbsp; What about “AccountController” says anything about “loading the notifications for a specific user”? Nothing, right? This data access, as I’ve mentioned before, should be pushed into a repository that makes use of the DB context through a Dependency Injection mechanism that only creates one instance of the DB context per request. And, the controller should take that repository through DI.&nbsp; This would make things more flexible (why write data access in more than one spot) and testable (we could use mocks to test more easily).</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Certainly you wouldn’t want your users deleting data without confirmation (if at all), so in the next installment we’ll have a look at putting a dialog in place to ensure users are invoking the intended action.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jameschambers.com/2014/07/day-28-doing-more-interesting-things-with-buttons/" data-id="cijrdvx0z00i9xgyy8zsgpx6q" class="article-share-link">Share</a>
      
        <a href="http://jameschambers.com/2014/07/day-28-doing-more-interesting-things-with-buttons/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/30DaysMvcBootstrap/">30DaysMvcBootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC/">MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVC5/">MVC5</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
      </nav>
    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recent</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/Strongly-Typed-Configuration-in-ASP-NET-Core-MVC/" class="title">Strongly-Typed Configuration in ASP.NET Core MVC</a></p>
              <p class="item-date"><time datetime="2016-01-23T16:29:12.000Z" itemprop="datePublished">2016-01-23</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/json-config-in-aspnetcoremvc/" class="title">JSON Configuration in ASP.NET Core MVC</a></p>
              <p class="item-date"><time datetime="2016-01-22T03:36:09.000Z" itemprop="datePublished">2016-01-21</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/Configuration-in-ASP-NET-Core-MVC/" class="title">Configuration in ASP.NET Core MVC</a></p>
              <p class="item-date"><time datetime="2016-01-21T02:27:23.000Z" itemprop="datePublished">2016-01-20</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/2106-01-17-Everything-You-Need-To-Know-About-Band-2-Battery-Life/" class="title">Everything You Need To Know About Microsoft Band 2 Battery Life</a></p>
              <p class="item-date"><time datetime="2016-01-18T02:44:01.000Z" itemprop="datePublished">2016-01-17</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-title"><a href="/2016/01/work-is-not-life/" class="title">Your Work and Your Life are Not Intricately Intertwined</a></p>
              <p class="item-date"><time datetime="2016-01-11T02:24:09.000Z" itemprop="datePublished">2016-01-10</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Buy me a coffee?</h3>
    <div class="widget">
        <a href="https://www.paypal.me/jameschambers/3.5usd" target="_blank"><img src="/content/coffee.png"></a>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/30DaysMvcBootstrap/" style="font-size: 17.86px;">30DaysMvcBootstrap</a> <a href="/tags/8DaysOfTableStorage/" style="font-size: 11.43px;">8DaysOfTableStorage</a> <a href="/tags/ASP-NET/" style="font-size: 15px;">ASP.NET</a> <a href="/tags/ASP-NET-5/" style="font-size: 10.71px;">ASP.NET 5</a> <a href="/tags/ASP-NET-Core/" style="font-size: 11.43px;">ASP.NET Core</a> <a href="/tags/ActionFilters/" style="font-size: 10px;">ActionFilters</a> <a href="/tags/Android/" style="font-size: 10.71px;">Android</a> <a href="/tags/AngelaSmith/" style="font-size: 10px;">AngelaSmith</a> <a href="/tags/Asp-Net-MVC/" style="font-size: 20px;">Asp.Net MVC</a> <a href="/tags/Authentication/" style="font-size: 10px;">Authentication</a> <a href="/tags/Azure/" style="font-size: 17.14px;">Azure</a> <a href="/tags/Azure-Web-Apps/" style="font-size: 10px;">Azure Web Apps</a> <a href="/tags/Azure-Websites/" style="font-size: 13.57px;">Azure Websites</a> <a href="/tags/BUILD/" style="font-size: 10px;">BUILD</a> <a href="/tags/BitBucket/" style="font-size: 10px;">BitBucket</a> <a href="/tags/Bootstrap/" style="font-size: 15.71px;">Bootstrap</a> <a href="/tags/CTT-NUG/" style="font-size: 10px;">CTT .NUG</a> <a href="/tags/Calgary/" style="font-size: 10px;">Calgary</a> <a href="/tags/Cisco-VPN/" style="font-size: 10px;">Cisco VPN</a> <a href="/tags/ClearMeasure/" style="font-size: 10.71px;">ClearMeasure</a> <a href="/tags/CodeProject/" style="font-size: 11.43px;">CodeProject</a> <a href="/tags/Conferences/" style="font-size: 10.71px;">Conferences</a> <a href="/tags/CouchDb/" style="font-size: 10px;">CouchDb</a> <a href="/tags/DNX/" style="font-size: 10px;">DNX</a> <a href="/tags/Dojo/" style="font-size: 10px;">Dojo</a> <a href="/tags/Email/" style="font-size: 10px;">Email</a> <a href="/tags/Entity-Framework/" style="font-size: 13.57px;">Entity Framework</a> <a href="/tags/Extension-Methods/" style="font-size: 10px;">Extension Methods</a> <a href="/tags/FontAwesome/" style="font-size: 10.71px;">FontAwesome</a> <a href="/tags/GenFu/" style="font-size: 10px;">GenFu</a> <a href="/tags/GetManifestResourceStream/" style="font-size: 10px;">GetManifestResourceStream</a> <a href="/tags/Git/" style="font-size: 11.43px;">Git</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/HackAThon/" style="font-size: 10px;">HackAThon</a> <a href="/tags/HtmlHelper/" style="font-size: 10px;">HtmlHelper</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/JSON/" style="font-size: 10.71px;">JSON</a> <a href="/tags/Keynote/" style="font-size: 10px;">Keynote</a> <a href="/tags/Life-Hack/" style="font-size: 10px;">Life Hack</a> <a href="/tags/Life-Hacking/" style="font-size: 10.71px;">Life Hacking</a> <a href="/tags/Life-Hacks/" style="font-size: 12.14px;">Life Hacks</a> <a href="/tags/Linq/" style="font-size: 10px;">Linq</a> <a href="/tags/MIX11/" style="font-size: 10px;">MIX11</a> <a href="/tags/MVA/" style="font-size: 10.71px;">MVA</a> <a href="/tags/MVC/" style="font-size: 19.29px;">MVC</a> <a href="/tags/MVC5/" style="font-size: 18.57px;">MVC5</a> <a href="/tags/MVC6/" style="font-size: 13.57px;">MVC6</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Make-Code-Not-War/" style="font-size: 10px;">Make Code Not War</a> <a href="/tags/MeasureUp/" style="font-size: 10px;">MeasureUp</a> <a href="/tags/Metro/" style="font-size: 10px;">Metro</a> <a href="/tags/Microsoft/" style="font-size: 10px;">Microsoft</a> <a href="/tags/Microsoft-Band/" style="font-size: 12.14px;">Microsoft Band</a> <a href="/tags/Mobile/" style="font-size: 10px;">Mobile</a> <a href="/tags/Mobile-Services/" style="font-size: 10px;">Mobile Services</a> <a href="/tags/Motivate/" style="font-size: 10px;">Motivate</a> <a href="/tags/MvcScaffolding/" style="font-size: 11.43px;">MvcScaffolding</a> <a href="/tags/Not-Coding-At-All/" style="font-size: 10px;">Not Coding At All</a> <a href="/tags/NuGet/" style="font-size: 15px;">NuGet</a> <a href="/tags/OData/" style="font-size: 10px;">OData</a> <a href="/tags/PayPal/" style="font-size: 10px;">PayPal</a> <a href="/tags/PostSharp/" style="font-size: 10px;">PostSharp</a> <a href="/tags/Practice/" style="font-size: 10.71px;">Practice</a> <a href="/tags/Practice-of-Awesome/" style="font-size: 10px;">Practice of Awesome</a> <a href="/tags/PrairieDevCon/" style="font-size: 16.43px;">PrairieDevCon</a> <a href="/tags/Queues/" style="font-size: 10px;">Queues</a> <a href="/tags/REST/" style="font-size: 10px;">REST</a> <a href="/tags/Radio/" style="font-size: 10px;">Radio</a> <a href="/tags/Razor/" style="font-size: 10.71px;">Razor</a> <a href="/tags/Real-Life/" style="font-size: 10px;">Real Life</a> <a href="/tags/Regina/" style="font-size: 10.71px;">Regina</a> <a href="/tags/Remote-Work/" style="font-size: 10.71px;">Remote Work</a> <a href="/tags/Resolve/" style="font-size: 10px;">Resolve</a> <a href="/tags/Rock-Paper-Scissors/" style="font-size: 10px;">Rock Paper Scissors</a> <a href="/tags/Routing/" style="font-size: 10px;">Routing</a> <a href="/tags/Ruby-on-Rails/" style="font-size: 10px;">Ruby on Rails</a> <a href="/tags/SDEC/" style="font-size: 10px;">SDEC</a> <a href="/tags/SOAP/" style="font-size: 10px;">SOAP</a> <a href="/tags/SQL-Server/" style="font-size: 10px;">SQL Server</a> <a href="/tags/ServiceBus/" style="font-size: 10px;">ServiceBus</a> <a href="/tags/SignalR/" style="font-size: 11.43px;">SignalR</a> <a href="/tags/Speaking/" style="font-size: 11.43px;">Speaking</a> <a href="/tags/TFS/" style="font-size: 10px;">TFS</a> <a href="/tags/Table-Storage/" style="font-size: 10.71px;">Table Storage</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 10px;">Unit Testing</a> <a href="/tags/Visual-Studio/" style="font-size: 10.71px;">Visual Studio</a> <a href="/tags/Visual-Studio-11/" style="font-size: 11.43px;">Visual Studio 11</a> <a href="/tags/Visual-Studio-2010/" style="font-size: 16.43px;">Visual Studio 2010</a> <a href="/tags/Visual-Studio-2012/" style="font-size: 12.86px;">Visual Studio 2012</a> <a href="/tags/Visual-Studio-2013/" style="font-size: 10.71px;">Visual Studio 2013</a> <a href="/tags/Visual-Studio-2015/" style="font-size: 14.29px;">Visual Studio 2015</a> <a href="/tags/WCF/" style="font-size: 10.71px;">WCF</a> <a href="/tags/Web-API/" style="font-size: 10.71px;">Web API</a> <a href="/tags/Web-Development/" style="font-size: 10px;">Web Development</a> <a href="/tags/Web-Services/" style="font-size: 10.71px;">Web Services</a> <a href="/tags/Windows-8/" style="font-size: 11.43px;">Windows 8</a> <a href="/tags/Windows-Azure/" style="font-size: 10px;">Windows Azure</a> <a href="/tags/Windows-Phone/" style="font-size: 14.29px;">Windows Phone</a> <a href="/tags/Windws-Live-Writer/" style="font-size: 10px;">Windws Live Writer</a> <a href="/tags/Winnipeg/" style="font-size: 10.71px;">Winnipeg</a> <a href="/tags/c/" style="font-size: 11.43px;">c#</a> <a href="/tags/compiling/" style="font-size: 10px;">compiling</a> <a href="/tags/jQuery/" style="font-size: 12.14px;">jQuery</a> <a href="/tags/jQuery-UI/" style="font-size: 10.71px;">jQuery UI</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/open-source/" style="font-size: 10.71px;">open source</a> <a href="/tags/reflection/" style="font-size: 10px;">reflection</a> <a href="/tags/seed-data/" style="font-size: 10px;">seed data</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/">2015</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/">2014</a><span class="archive-list-count">42</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/">2013</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/">2012</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/">2011</a><span class="archive-list-count">36</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 1999 - 2016 James Chambers<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script>
  var disqus_shortname = 'jameschambers';
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>